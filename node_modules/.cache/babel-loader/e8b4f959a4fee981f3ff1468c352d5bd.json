{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\AuthenticatePage.js\";\nimport React, { Component } from 'react';\nimport GoogleLogin from 'react-google-login';\nimport './../App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './../assets/css/font-awesome.min.css';\nimport logo from \"./../assets/images/tatastrivelogo.png\";\nimport UserContext from './../components/GolbalContext';\nimport ComponentVisibility from './../util/ComponentVisibility';\nimport ForgotPassword from './ForgotPassword';\nimport { login, resetForgetPassword, changePassword, fetchUserScope, fectUserRoleDetails, fetchCentersDetails, fetchCenterProgramMapping, fetchProgram, fetchComponentsByProgramIdAndRoleId } from './../util/api';\nimport { clearAppData } from './../util/session.js';\n\nclass Authenticate extends Component {\n  constructor(props) {\n    super(props);\n\n    this.mySubmitHandler = event => {\n      event.preventDefault();\n      this.callme();\n    };\n\n    this.state = {\n      appError: '',\n      token: '',\n      action: 'login',\n      userDetails: [],\n      roleDetails: [],\n      scopeDetails: [],\n      centerDetails: []\n    };\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  callme() {\n    // Get authentication\n    login(this.state.token, this.state.action, this.state.email, this.state.password).then(jsondata => {\n      if (jsondata.appError[0] == null) {\n        this.setState({\n          appError: ''\n        });\n        let jsonobjects = JSON.parse(jsondata.data);\n        this.setState({\n          userDetails: jsonobjects[1]\n        }); // console.log(\">>>>>>>>>>>>>>\"jsonobjects[1]);\n\n        fetchUserDetails(UserContext.userid).then(jsondata => {});\n        UserContext.userid = jsonobjects[1].id;\n        UserContext.firstName = jsonobjects[1].firstName;\n        UserContext.lastName = jsonobjects[1].lastName;\n        UserContext.userName = jsonobjects[1].userName;\n        UserContext.token = jsonobjects[0].token;\n        var jwtTimeOut = new Date();\n        jwtTimeOut.setMinutes(jwtTimeOut.getMinutes() + 15);\n        UserContext.jwtTimeOut = jwtTimeOut;\n        UserContext.secretKey = \"strive\";\n        UserContext.refreshToken = jsonobjects[0].refreshToken;\n        UserContext.sessionTime = \"\";\n        var sessionTimeOut = new Date();\n        sessionTimeOut.setMinutes(sessionTimeOut.getMinutes() + 15);\n        UserContext.sessionTime = sessionTimeOut;\n        return this;\n      } else {\n        this.setState({\n          userDetails: ''\n        });\n        this.setState({\n          appError: jsondata.appError[0].errorMessage\n        });\n        this.props.history.push('/');\n      }\n    }).then(function (result) {\n      // Get User authorization - Role and Scope\n      if (result.state.appError === '') {\n        return fetchUserScope(UserContext.userid).then(jsondata => {\n          if (jsondata.appError[0] == null) {\n            let jsonobjects = JSON.parse(jsondata.data);\n\n            if (jsonobjects[0].roleMapId === 27) {\n              clearAppData();\n            } else {\n              UserContext.centerId = jsonobjects[0].centerId;\n              UserContext.roleid = jsonobjects[0].roleMapId;\n              UserContext.defaultProgramId = jsonobjects[0].programId;\n              return result;\n            }\n          } else {\n            return result;\n          }\n        });\n      } else {\n        return result;\n      }\n    }).then(function (result) {\n      // Get Role Name\n      if (result.state.appError === '') {\n        return fectUserRoleDetails(UserContext.roleid).then(jsondata => {\n          let jsonobjects = JSON.parse(jsondata.data);\n          console.log(jsonobjects);\n          UserContext.roleName = jsonobjects[0].name;\n          return result;\n        });\n      } else {\n        return result;\n      }\n    }).then(function (result) {\n      // Get Center Name               \n      if (result.state.appError === '') {\n        let centerId = [];\n        centerId.push({\n          \"id\": UserContext.centerId\n        });\n        return fetchCentersDetails(JSON.stringify(centerId)).then(jsondata => {\n          let jsonobjects = JSON.parse(jsondata.data); // console.log(jsonobjects)            \n\n          UserContext.centerName = jsonobjects[0].name;\n          UserContext.assessmentCenterId = jsonobjects[0].assessmentCenterId;\n          UserContext.modelId = jsonobjects[0].model;\n          return result;\n        });\n      } else {\n        return result;\n      }\n    }).then(function (result) {\n      // fetchCenterProgramMapping(UserContext.centerId).then((jsondata)=>{              \n      //    let jsonobjects = JSON.parse(jsondata.data);     \n      //  UserContext.programId = jsonobjects[0].programId;   \n      let programId = [];\n      programId.push({\n        \"id\": UserContext.defaultProgramId\n      });\n      fetchProgram(JSON.stringify(programId)).then(jsondata => {\n        let jsonobjects = JSON.parse(jsondata.data);\n        UserContext.programName = jsonobjects[0].name;\n      });\n      fetchComponentsByProgramIdAndRoleId(UserContext.defaultProgramId, UserContext.roleid).then(jsondata => {\n        let jsonobjects = JSON.parse(jsondata.data);\n        jsonobjects.map(item => {\n          ComponentVisibility[item.componentName] = item.isVisibility;\n        });\n      }); //  }) ;  \n\n      result.props.history.push('/dashboard');\n    }).catch(error => {\n      console.log(\"ZZZZZZZ1\" + error);\n    });\n  }\n\n  render() {\n    const responseGoogle = response => {\n      this.setState({\n        token: response.getAuthResponse().id_token\n      });\n      this.setState({\n        action: 'socialAccountLogin'\n      });\n      this.callme();\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      class: \"main-bg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      bgcolor: \"white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      padding: \"15px\",\n      height: \"65\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 58\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      alt: \"logo\",\n      height: \"55\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 90\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"sub-main-w3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"image-style\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }\n    }, \"    \"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"vertical-tab\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"section1\",\n      class: \"section-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"sections\",\n      id: \"option1\",\n      checked: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"option1\",\n      class: \"icon-left-w3pvt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-user-circle\",\n      \"aria-hidden\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 74\n      }\n    }), \"Login\"), /*#__PURE__*/React.createElement(\"article\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.mySubmitHandler,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      class: \"legend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 37\n      }\n    }, \"Login Here \"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      style: {\n        color: 'red',\n        textAlign: 'center'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }, this.state.appError, \"\\xA0 \", this.props.location.state != null && this.props.location.state.logoutmsg, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-envelope-o\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      name: \"email\",\n      maxlength: \"50\",\n      onChange: this.handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-key\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      maxlength: \"15\",\n      onChange: this.handleInputChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 37\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(GoogleLogin //   clientId=\"902513042649-0ub5vfc2rbtkdndlpv26u5dnev39spf2.apps.googleusercontent.com\" \n    , {\n      clientId: \"948364567719-tovnvvvhfq7ndqdi7hq149de5ei7r6gv.apps.googleusercontent.com\",\n      buttonText: \"Login with Google\",\n      theme: \"dark\",\n      onSuccess: responseGoogle,\n      onFailure: responseGoogle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fill_pad6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 37\n      }\n    }, \"\\xA0\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"section2\",\n      class: \"section-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"sections\",\n      id: \"option2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"option2\",\n      class: \"icon-left-w3pvt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-pencil-square\",\n      \"aria-hidden\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 74\n      }\n    }), \"Register\"), /*#__PURE__*/React.createElement(\"article\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.mySubmitHandler,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      class: \"legend\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 37\n      }\n    }, \"Register Here\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 36\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-user-o\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 41\n      }\n    }), \"Coming soon\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"bottom-text-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 37\n      }\n    }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"fill_pad4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 37\n      }\n    }, \"\\xA0\")))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"section3\",\n      class: \"section-w3ls\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"sections\",\n      id: \"option3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      for: \"option3\",\n      class: \"icon-left-w3pvt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      class: \"fa fa-lock\",\n      \"aria-hidden\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 74\n      }\n    }), \"Forgot Password?\"), /*#__PURE__*/React.createElement(\"article\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(ForgotPassword, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 37\n      }\n    }), \"y\")))));\n  }\n\n}\n\nexport default Authenticate;","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/AuthenticatePage.js"],"names":["React","Component","GoogleLogin","logo","UserContext","ComponentVisibility","ForgotPassword","login","resetForgetPassword","changePassword","fetchUserScope","fectUserRoleDetails","fetchCentersDetails","fetchCenterProgramMapping","fetchProgram","fetchComponentsByProgramIdAndRoleId","clearAppData","Authenticate","constructor","props","mySubmitHandler","event","preventDefault","callme","state","appError","token","action","userDetails","roleDetails","scopeDetails","centerDetails","handleInputChange","bind","target","value","name","setState","email","password","then","jsondata","jsonobjects","JSON","parse","data","fetchUserDetails","userid","id","firstName","lastName","userName","jwtTimeOut","Date","setMinutes","getMinutes","secretKey","refreshToken","sessionTime","sessionTimeOut","errorMessage","history","push","result","roleMapId","centerId","roleid","defaultProgramId","programId","console","log","roleName","stringify","centerName","assessmentCenterId","modelId","model","programName","map","item","componentName","isVisibility","catch","error","render","responseGoogle","response","getAuthResponse","id_token","color","textAlign","location","logoutmsg"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport GoogleLogin from 'react-google-login';\r\nimport './../App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './../assets/css/font-awesome.min.css'\r\nimport logo from \"./../assets/images/tatastrivelogo.png\";\r\nimport UserContext from './../components/GolbalContext'\r\nimport ComponentVisibility from './../util/ComponentVisibility';\r\nimport ForgotPassword from './ForgotPassword';\r\nimport {login,resetForgetPassword,changePassword,fetchUserScope,fectUserRoleDetails,fetchCentersDetails,fetchCenterProgramMapping,fetchProgram,fetchComponentsByProgramIdAndRoleId} from './../util/api';\r\nimport {clearAppData} from './../util/session.js';\r\n\r\n\r\n\r\nclass Authenticate extends Component {\r\n    constructor(props) {\r\n        super(props);  \r\n        this.state = {\r\n        appError:'',token:'',action:'login',userDetails:[],roleDetails:[],scopeDetails:[],centerDetails:[]};\r\n        this.handleInputChange = this.handleInputChange.bind(this);  \r\n    } \r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value =  target.value;\r\n        const name = target.name;\r\n        this.setState({\r\n          [name]: value\r\n        });    \r\n    }\r\n\r\n    mySubmitHandler = (event) => {\r\n        event.preventDefault();\r\n        this.callme();\r\n    }\r\n\r\n    callme()\r\n    {      \r\n\r\n        // Get authentication\r\n        login(this.state.token,this.state.action,this.state.email,this.state.password).then((jsondata)=>{\r\n                if(jsondata.appError[0]==null){      \r\n                    this.setState({appError:''}); \r\n                    let jsonobjects = JSON.parse(jsondata.data);\r\n                    this.setState({userDetails :jsonobjects[1]});\r\n                    // console.log(\">>>>>>>>>>>>>>\"jsonobjects[1]);\r\n                    fetchUserDetails(UserContext.userid).then((jsondata)=>{\r\n\r\n                    })\r\n                    UserContext.userid = jsonobjects[1].id;\r\n                    UserContext.firstName = jsonobjects[1].firstName;\r\n                    UserContext.lastName = jsonobjects[1].lastName;  \r\n                    UserContext.userName = jsonobjects[1].userName;   \r\n                    UserContext.token = jsonobjects[0].token;\r\n                    var jwtTimeOut=new Date();\r\n                    jwtTimeOut.setMinutes( jwtTimeOut.getMinutes() + 15);\r\n                    UserContext.jwtTimeOut = jwtTimeOut;\r\n                    UserContext.secretKey = \"strive\";\r\n                    UserContext.refreshToken = jsonobjects[0].refreshToken;    \r\n\r\n                     UserContext.sessionTime=\"\";\r\n                     var sessionTimeOut=new Date();\r\n                     sessionTimeOut.setMinutes( sessionTimeOut.getMinutes() + 15);    \r\n                     UserContext.sessionTime=sessionTimeOut;\r\n            \r\n                    return this;  \r\n                }  else{\r\n                    this.setState({userDetails:''});\r\n                    this.setState({appError:jsondata.appError[0].errorMessage});\r\n                    this.props.history.push('/')\r\n                    \r\n                }\r\n             }).then(function(result){\r\n                // Get User authorization - Role and Scope\r\n                if(result.state.appError===''){\r\n  return  fetchUserScope(UserContext.userid).then((jsondata)=>{\r\n                        if(jsondata.appError[0]==null){      \r\n                            let jsonobjects = JSON.parse(jsondata.data);\r\n                            if(jsonobjects[0].roleMapId===27){\r\n                                clearAppData();\r\n                            }else{\r\n                            UserContext.centerId = jsonobjects[0].centerId;\r\n                            UserContext.roleid = jsonobjects[0].roleMapId;\r\n                            UserContext.defaultProgramId=jsonobjects[0].programId;\r\n                            \r\n                            return result;\r\n                            }\r\n                        }  else{                        \r\n                            return result;\r\n                        }\r\n                    });                       \r\n                } else { \r\n                    return result\r\n                }\r\n             }).then(function(result){                 \r\n                // Get Role Name\r\n                if(result.state.appError===''){ \r\n                     return  fectUserRoleDetails(UserContext.roleid).then((jsondata)=>{              \r\n                        let jsonobjects = JSON.parse(jsondata.data);    \r\n                        console.log(jsonobjects);    \r\n                        UserContext.roleName = jsonobjects[0].name;\r\n                              \r\n                        return result;                  \r\n                    })   \r\n                } else{ \r\n                       return result;\r\n                }\r\n            }).then(function(result){\r\n                // Get Center Name               \r\n                if(result.state.appError===''){      \r\n                    let centerId = [];\r\n                    centerId.push({ \"id\":UserContext.centerId});\r\n                  return  fetchCentersDetails(JSON.stringify(centerId)).then((jsondata)=>{                  \r\n                            let jsonobjects = JSON.parse(jsondata.data); \r\n                            // console.log(jsonobjects)            \r\n                            UserContext.centerName = jsonobjects[0].name; \r\n                            UserContext.assessmentCenterId = jsonobjects[0].assessmentCenterId;\r\n                            UserContext.modelId = jsonobjects[0].model;\r\n                            return result;    \r\n                         }) ;  \r\n                }else{ \r\n                    return result;\r\n                }\r\n            }).then(function(result){ \r\n               // fetchCenterProgramMapping(UserContext.centerId).then((jsondata)=>{              \r\n                //    let jsonobjects = JSON.parse(jsondata.data);     \r\n                  //  UserContext.programId = jsonobjects[0].programId;   \r\n                    let programId = [];\r\n                    programId.push({ \"id\":UserContext.defaultProgramId});\r\n                    fetchProgram(JSON.stringify(programId)).then((jsondata)=>{              \r\n                        let jsonobjects = JSON.parse(jsondata.data);     \r\n                        UserContext.programName=jsonobjects[0].name;\r\n                     }) ; \r\n\r\n                     fetchComponentsByProgramIdAndRoleId(UserContext.defaultProgramId,UserContext.roleid).then((jsondata)=>{              \r\n                        let jsonobjects = JSON.parse(jsondata.data);  \r\n                         jsonobjects.map(item => {\r\n                            ComponentVisibility[item.componentName] = item.isVisibility;\r\n                            });\r\n                        }) ; \r\n               //  }) ;  \r\n                \r\n                result.props.history.push('/dashboard');})\r\n            .catch(error => {\r\n                console.log(\"ZZZZZZZ1\"+error);\r\n            });\r\n    }\r\n\r\n    render() {       \r\n        const responseGoogle = (response) => {           \r\n            this.setState({token:response.getAuthResponse().id_token}); \r\n            this.setState({action:'socialAccountLogin'});   \r\n            this.callme();\r\n        }\r\n\r\n        return (\r\n            <div class=\"main-bg\">     \r\n                <table width=\"100%\"><tr bgcolor=\"white\" ><td padding=\"15px\" height=\"65\" ><img src={logo} alt=\"logo\" height=\"55\"/></td></tr></table>\r\n                <div class=\"sub-main-w3\">\r\n                    <div class=\"image-style\">    </div>\r\n                    <div class=\"vertical-tab\">\r\n                        <div id=\"section1\" class=\"section-w3ls\">\r\n                            <input type=\"radio\" name=\"sections\" id=\"option1\" checked ></input>\r\n                            <label for=\"option1\" class=\"icon-left-w3pvt\"><span class=\"fa fa-user-circle\" aria-hidden=\"false\"></span>Login</label>\r\n                            <article>\r\n                                <form onSubmit={this.mySubmitHandler} method=\"post\">     \r\n                                    <h3 class=\"legend\">Login Here </h3>\r\n        <div class=\"bottom-text-w3ls\" style={{ color: 'red',textAlign: 'center'}}>{this.state.appError}&nbsp; {(this.props.location.state!=null) && this.props.location.state.logoutmsg} </div>\r\n                                    <div class=\"input\">\r\n                                        <span class=\"fa fa-envelope-o\" aria-hidden=\"true\"></span>\r\n                                        <input type=\"text\" placeholder=\"Email\" name=\"email\"  maxlength=\"50\" onChange={this.handleInputChange} required />\r\n                                    </div>\r\n                                    <div class=\"input\">\r\n                                        <span class=\"fa fa-key\" aria-hidden=\"true\"></span>\r\n                                        <input type=\"password\" placeholder=\"Password\" name=\"password\"  maxlength=\"15\" onChange={this.handleInputChange} required />\r\n                                    </div>\r\n                                    \r\n                                    <button type=\"submit\" class=\"btn submit\">Login</button>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">\r\n                                    <center>\r\n                                    <GoogleLogin  \r\n                                     //   clientId=\"902513042649-0ub5vfc2rbtkdndlpv26u5dnev39spf2.apps.googleusercontent.com\" \r\n                                        clientId=\"948364567719-tovnvvvhfq7ndqdi7hq149de5ei7r6gv.apps.googleusercontent.com\" \r\n                                        buttonText=\"Login with Google\"\r\n                                        theme=\"dark\"\r\n                                        onSuccess={responseGoogle}\r\n                                        onFailure={responseGoogle}\r\n                                    />\r\n                                    </center>\r\n                                    </div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"fill_pad6\">&nbsp;</div>\r\n                                    \r\n                                    \r\n                                </form>\r\n                            </article>\r\n                        </div>\r\n                        <div id=\"section2\" class=\"section-w3ls\">\r\n                            <input type=\"radio\" name=\"sections\" id=\"option2\"></input>\r\n                            <label for=\"option2\" class=\"icon-left-w3pvt\"><span class=\"fa fa-pencil-square\" aria-hidden=\"false\"></span>Register</label>\r\n                            <article>\r\n\r\n                                <form onSubmit={this.mySubmitHandler} method=\"post\">\r\n                                    <h3 class=\"legend\">Register Here</h3>\r\n                                   <div class=\"input\">\r\n                                        <span class=\"fa fa-user-o\" aria-hidden=\"true\"></span>\r\n                                        Coming soon\r\n                                        {/* <input type=\"text\" placeholder=\"Username\" name=\"name\" required /> */}\r\n                                    </div>\r\n                                      {/*\r\n                                      <div class=\"input\">\r\n                                        <span class=\"fa fa-key\" aria-hidden=\"true\"></span>\r\n                                        <input type=\"password\" placeholder=\"Password\" name=\"password\" required />\r\n                                    </div>\r\n                                    <div class=\"input\">\r\n                                        <span class=\"fa fa-key\" aria-hidden=\"true\"></span>\r\n                                        <input type=\"password\" placeholder=\"Confirm Password\" name=\"password\" required />\r\n                                    </div>\r\n                                    <button type=\"submit\" class=\"btn submit\">Register</button> */}\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"bottom-text-w3ls\">&nbsp;</div>\r\n                                    <div class=\"fill_pad4\">&nbsp;</div>\r\n                                    \r\n                                </form>\r\n                            </article>\r\n                        </div>\r\n                        <div id=\"section3\" class=\"section-w3ls\">\r\n                            <input type=\"radio\" name=\"sections\" id=\"option3\"/>\r\n                            <label for=\"option3\" class=\"icon-left-w3pvt\"><span class=\"fa fa-lock\" aria-hidden=\"false\"></span>Forgot Password?</label>\r\n                            <article>\r\n                                    <ForgotPassword />y\r\n                             </article>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>                \r\n         );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Authenticate;\r\n"]},"metadata":{},"sourceType":"module"}