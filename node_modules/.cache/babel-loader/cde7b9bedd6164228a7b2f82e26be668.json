{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\CreateUser.js\";\nimport React, { Component } from 'react';\nimport Address from './Address';\nimport { fetchMasterSalutation, fetchMasterGenderDetails, fetcRoleDetails, fetchUserDetails, mapUserToRole, saveUserDetails } from './../util/api';\nimport { FormControl, InputLabel, Input, Grid, TextField, Button } from '@material-ui/core';\nimport { SingleSelect } from \"react-select-material-ui\";\nimport underscore from 'underscore';\nimport UserContext from '../components/GolbalContext';\n\nclass CreateUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.saveDetails = event => {\n      event.preventDefault();\n      let formData = new FormData();\n      var profileData = '{\"userName\":\"' + this.state.userName + '\",\"firstName\":\"' + this.state.firstName + '\",\"lastName\":\"' + this.state.lastName + '\",\"id\":\"' + this.state.id + '\",\"emailAddress\":\"' + this.state.emailAddress + '\"}'; // formData.append('data','{\"token\" : \"'+ \"1234\" +'\", \"action\" : \"saveUserDetails\", \"data\" : [{\"userName\":\"'+this.state.userName+'\",\"firstName\":\"'+this.state.firstName+'\",\"lastName\":\"'+this.state.lastName+'\",\"id\":\"'+this.state.id+'\",\"emailAddress\":\"'+this.state.emailAddress+'\"}]}');\n      //     return fetch(\"http://playground.tatastrive.com/ssservices-v1/users\", {\n      //     method: \"POST\",\n      //     headers: {\n      //       'Authorization': 'Bearer '+UserContext.token\n      //   }, \n      //     body: formData \n      //     }).then(response => response.json())\n\n      saveUserDetails(profileData).then(jsondata => {\n        let jsonobjects = JSON.parse(jsondata.data);\n        this.setState({\n          userId: jsonobjects.id\n        });\n        alert(\"Data Saved Successfully\");\n\n        if (this.state.id == '0') {\n          this.saveUserCenterRoleMapDetails();\n        }\n      });\n    };\n\n    this.state = {\n      firstName: '',\n      emailAddress: '',\n      userName: '',\n      dob: '',\n      middleName: '',\n      lastName: '',\n      id: '0',\n      roleId: '',\n      centerId: '',\n      userId: '',\n      roleDetails: []\n    };\n    this.formData = {\n      village: [],\n      city: [],\n      state: [],\n      district: []\n    };\n    fetcRoleDetails().then(jsondata => {\n      let jsonobjects = JSON.parse(jsondata.data);\n      jsonobjects.map(item => {\n        this.state.roleDetails.push({\n          label: item.name,\n          value: item.id.toString()\n        });\n      });\n    });\n\n    if (props.location.state != null) {\n      const dbUserId = props.location.state.dbUserId;\n      this.state.id = dbUserId;\n      fetchUserDetails(dbUserId).then(jsondata => {\n        let jsonobjects = JSON.parse(jsondata.data);\n        this.setState({\n          firstName: jsonobjects[0].firstName\n        });\n        this.setState({\n          lastName: jsonobjects[0].lastName\n        });\n        this.setState({\n          emailAddress: jsonobjects[0].emailAddress\n        });\n        this.setState({\n          id: jsonobjects[0].id\n        });\n        this.setState({\n          dob: jsonobjects[0].dob\n        });\n        this.setState({\n          middleName: jsonobjects[0].middleName\n        });\n        this.setState({\n          userName: jsonobjects[0].userName\n        });\n      });\n    }\n  }\n\n  handleSelectChange(selectname, event) {\n    this.setState({\n      [selectname]: event\n    });\n  }\n\n  saveUserCenterRoleMapDetails() {\n    mapUserToRole(this.state.userId, UserContext.centerId, this.state.roleId).then(jsondata => {});\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.saveDetails,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, \"Basic Details\"))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      for: \"firstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, \"User Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"userName\",\n      id: \"userName\",\n      placeholder: \"Enter First Name\",\n      value: this.state.userName,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"date\",\n      name: \"dob\",\n      id: \"dob\",\n      label: \"Birthday\",\n      type: \"date\",\n      value: this.state.dob // onChange={this.handleInputChange}\n      ,\n      InputLabelProps: {\n        shrink: true\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      for: \"firstName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, \"First Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"firstName\",\n      id: \"firstName\",\n      placeholder: \"Enter First Name\",\n      value: this.state.firstName,\n      onChange: this.handleInputChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      for: \"middleName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }, \"Middle Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"middleName\",\n      id: \"middleName\",\n      placeholder: \"Enter Middle Name\",\n      onChange: this.handleInputChange,\n      value: this.state.middleName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      for: \"lastName\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, \"Last Name\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"lastName\",\n      id: \"lastName\",\n      placeholder: \"Enter Last Name\",\n      onChange: this.handleInputChange,\n      value: this.state.lastName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      shrink: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 10\n      }\n    }, \"Role\"), /*#__PURE__*/React.createElement(SingleSelect, {\n      onChange: this.handleSelectChange.bind(this, 'roleId'),\n      name: \"role\",\n      id: \"role\",\n      options: this.state.roleDetails,\n      value: this.state.roleId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 10\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, \"Contact Information\"))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      for: \"primaryEmailId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, \"Primary Email\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"emailAddress\",\n      id: \"emailAddress\",\n      onChange: this.handleInputChange,\n      value: this.state.emailAddress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    })))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      type: \"submit\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }\n    }, \"Save\")));\n  }\n\n}\n\nexport default CreateUser;","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/CreateUser.js"],"names":["React","Component","Address","fetchMasterSalutation","fetchMasterGenderDetails","fetcRoleDetails","fetchUserDetails","mapUserToRole","saveUserDetails","FormControl","InputLabel","Input","Grid","TextField","Button","SingleSelect","underscore","UserContext","CreateUser","constructor","props","handleInputChange","event","target","value","name","setState","saveDetails","preventDefault","formData","FormData","profileData","state","userName","firstName","lastName","id","emailAddress","then","jsondata","jsonobjects","JSON","parse","data","userId","alert","saveUserCenterRoleMapDetails","dob","middleName","roleId","centerId","roleDetails","village","city","district","map","item","push","label","toString","location","dbUserId","handleSelectChange","selectname","render","width","shrink","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Address from './Address';\r\nimport {fetchMasterSalutation,fetchMasterGenderDetails,fetcRoleDetails,fetchUserDetails,mapUserToRole,\r\n  saveUserDetails} from './../util/api';\r\nimport { FormControl , InputLabel, Input, Grid , TextField,Button}  from '@material-ui/core';\r\nimport { SingleSelect } from \"react-select-material-ui\";\r\nimport underscore from 'underscore';\r\nimport UserContext from '../components/GolbalContext'\r\n\r\nclass CreateUser extends Component{\r\nconstructor(props){\r\n    super(props);\r\n    \r\n    this.state = {firstName:'',emailAddress:'',userName:'',dob:'',middleName:'',lastName:'',\r\n    id:'0',roleId:'',centerId:'',userId:'',roleDetails:[]};\r\n\r\n    this.formData = { \r\n        \r\n        village:[],city:[],state:[],district:[]\r\n    };\r\n\r\n    fetcRoleDetails().then((jsondata) => {       \r\n      let jsonobjects = JSON.parse(jsondata.data);\r\n      jsonobjects.map(item => { this.state.roleDetails.push({label: item.name, value: (item.id).toString()})})\r\n       });\r\n\r\n    \r\n        if(props.location.state!=null){\r\n        const dbUserId = props.location.state.dbUserId;\r\n        this.state.id=dbUserId;\r\n        fetchUserDetails(dbUserId).then((jsondata) => {       \r\n          let jsonobjects = JSON.parse(jsondata.data);\r\n          this.setState({firstName:jsonobjects[0].firstName});\r\n          this.setState({lastName:jsonobjects[0].lastName}); \r\n          this.setState({emailAddress:jsonobjects[0].emailAddress}); \r\n          this.setState({id:jsonobjects[0].id});\r\n          this.setState({dob:jsonobjects[0].dob});\r\n          this.setState({middleName:jsonobjects[0].middleName});\r\n          this.setState({userName:jsonobjects[0].userName}); \r\n        \r\n        });\r\n        }\r\n}\r\n\r\nhandleInputChange = (event) =>{  \r\n    const target = event.target;  \r\n    const value = target.value;  \r\n    const name = target.name;  \r\n        this.setState({  \r\n        [name]: value  \r\n    });  \r\n\r\n}  \r\n\r\nhandleSelectChange(selectname, event) {\r\nthis.setState({[selectname]:event});\r\n}\r\n\r\nsaveDetails = (event) => {\r\n    event.preventDefault();\r\n  let formData = new FormData();\r\n\r\n  var profileData='{\"userName\":\"'+this.state.userName+'\",\"firstName\":\"'+this.state.firstName+'\",\"lastName\":\"'+this.state.lastName+'\",\"id\":\"'+this.state.id+'\",\"emailAddress\":\"'+this.state.emailAddress+'\"}';\r\n\r\n  // formData.append('data','{\"token\" : \"'+ \"1234\" +'\", \"action\" : \"saveUserDetails\", \"data\" : [{\"userName\":\"'+this.state.userName+'\",\"firstName\":\"'+this.state.firstName+'\",\"lastName\":\"'+this.state.lastName+'\",\"id\":\"'+this.state.id+'\",\"emailAddress\":\"'+this.state.emailAddress+'\"}]}');\r\n  //     return fetch(\"http://playground.tatastrive.com/ssservices-v1/users\", {\r\n  //     method: \"POST\",\r\n  //     headers: {\r\n  //       'Authorization': 'Bearer '+UserContext.token\r\n  //   }, \r\n  //     body: formData \r\n  //     }).then(response => response.json())\r\n      \r\n      \r\n  saveUserDetails(profileData).then((jsondata)=>{\r\n        let jsonobjects = JSON.parse(jsondata.data);\r\n        this.setState({userId:jsonobjects.id});\r\n        alert(\"Data Saved Successfully\");\r\n       if(this.state.id=='0'){\r\n        this.saveUserCenterRoleMapDetails();\r\n       }\r\n    })     \r\n}\r\nsaveUserCenterRoleMapDetails(){\r\n  mapUserToRole(this.state.userId,UserContext.centerId,this.state.roleId).then((jsondata) => {\r\n     });\r\n}\r\n\r\nrender(){\r\nreturn  (\r\n<div style = {{ width : '100%' }}>\r\n    <form onSubmit={this.saveDetails} method=\"post\">\r\n   <Grid container spacing={2}>\r\n    <Grid item xs={12}>\r\n          <FormControl>\r\n          <h5>Basic Details</h5>\r\n            </FormControl>  \r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={3}>\r\n          <FormControl>\r\n            <InputLabel for=\"firstName\">User Name</InputLabel>\r\n            <Input type=\"text\" name=\"userName\" id=\"userName\" \r\n            placeholder=\"Enter First Name\" \r\n            value={this.state.userName}\r\n            onChange={this.handleInputChange}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid item xs={12} sm={3}>\r\n            <TextField id=\"date\" name = \"dob\" id = \"dob\"\r\n            label=\"Birthday\" \r\n            type=\"date\"\r\n            value={this.state.dob}\r\n           // onChange={this.handleInputChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }} />\r\n\r\n        </Grid>\r\n         <Grid item xs={12} sm={3}>\r\n          <FormControl>\r\n            <InputLabel for=\"firstName\">First Name</InputLabel>\r\n            <Input type=\"text\" name=\"firstName\" id=\"firstName\" placeholder=\"Enter First Name\"\r\n            value={this.state.firstName}\r\n            onChange={this.handleInputChange}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} sm={3}>\r\n          <FormControl> \r\n            <InputLabel for=\"middleName\">Middle Name</InputLabel>\r\n            <Input type=\"text\" name=\"middleName\" id=\"middleName\" placeholder=\"Enter Middle Name\"\r\n             onChange={this.handleInputChange}\r\n             value={this.state.middleName}\r\n            />\r\n          </FormControl>\r\n        </Grid>\r\n         <Grid item xs={12} sm={3}>\r\n          <FormControl>\r\n            <InputLabel for=\"lastName\">Last Name</InputLabel>\r\n            <Input type=\"text\" name=\"lastName\" id=\"lastName\"\r\n             placeholder=\"Enter Last Name\" \r\n             onChange={this.handleInputChange}\r\n             value={this.state.lastName}\r\n             />\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n\r\n         <InputLabel shrink={true} >Role</InputLabel>\r\n         <SingleSelect  \r\n              onChange={this.handleSelectChange.bind(this,'roleId')} \r\n              name=\"role\" id=\"role\"\r\n              options={this.state.roleDetails}\r\n              value={this.state.roleId}\r\n                     \r\n            /> \r\n        </Grid> \r\n\r\n       <Grid item xs={12}>\r\n          <FormControl>\r\n          <h5>Contact Information</h5>\r\n            </FormControl>  \r\n        </Grid>\r\n         <Grid item xs={12} sm={6}>\r\n          <FormControl>\r\n            <InputLabel for=\"primaryEmailId\">Primary Email</InputLabel>\r\n            <Input type=\"email\" name=\"emailAddress\" id=\"emailAddress\" \r\n             onChange={this.handleInputChange}\r\n             value={this.state.emailAddress}\r\n             />\r\n          </FormControl>\r\n        </Grid>\r\n      </Grid>\r\n  <br/>\r\n      <Button variant=\"contained\" type=\"submit\" color=\"primary\">Save</Button>\r\n    \r\n    </form>\r\n    \r\n    </div>\r\n\r\n);\r\n}\r\n}\r\nexport default CreateUser;"]},"metadata":{},"sourceType":"module"}