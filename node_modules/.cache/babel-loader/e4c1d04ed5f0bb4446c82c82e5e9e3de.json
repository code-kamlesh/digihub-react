{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\BulkUpload.js\";\nimport React, { Component } from 'react';\nimport * as XLSX from \"xlsx\";\nimport { Checkbox, InputLabel, Input, Grid, Button } from '@material-ui/core';\nimport { SingleSelect } from \"react-select-material-ui\";\nimport label from 'material-ui/svg-icons/action/label';\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport UserContext from '../components/GolbalContext';\nimport { fetchNotCompletedBatchDetails, saveBulkMetaData, saveBulkStudentData } from '../util/api';\nimport excel from 'xlsx';\nlet today = new Date();\nlet dd = String(today.getDate()).padStart(2, '0');\nlet mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n\nlet yyyy = today.getFullYear();\ntoday = yyyy + '-' + mm + '-' + dd;\nexport default class bulkUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      option: [{\n        value: \"Mobilization\",\n        label: \"Mobilization\"\n      },, {\n        value: \"Enrollment\",\n        label: \"Enrollment\"\n      }],\n      batchList: [],\n      Selectedoption: \"\"\n    };\n  } // optind change handler\n\n\n  handleOptionsChange(selectname, event) {\n    this.setState({\n      [selectname]: event\n    });\n    console.log(\"selected optins : \", this.state.Selectedoption);\n\n    if (event === \"Enrollment\") {\n      // setDisabled(false)\n      fetchNotCompletedBatchDetails(UserContext.centerId).then(jsondata => {\n        let result = JSON.parse(jsondata.data);\n        console.log(\"senter : \", result); // console.log(result[0].freezeDate)\n        // setbatches([])\n\n        result.forEach(element => {\n          console.log(\"Condition for date \", element.freezeDate > today);\n\n          if (element.freezeDate > today) {\n            this.state.batcheList.push({\n              value: element.batchId,\n              label: element.batchName\n            });\n          }\n        });\n        console.log(this.state.batcheList);\n      });\n    } else {// setDisabled(true)\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }\n    }, \" \"), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      shrink: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, \"Options\"), /*#__PURE__*/React.createElement(SingleSelect, {\n      name: \"Selectedoption\",\n      id: \"Selectedoption\",\n      options: this.state.options,\n      value: this.state.Selectedoption || '',\n      key: this.state.Selectedoption || '',\n      onChange: this.handleOptionsChange.bind(this, 'Selectedoption') // helperText={this.state.errors.Selectedoption != undefined ? this.state.errors.Selectedoption.label : ''}\n      // error={this.state.errors.Selectedoption != undefined ? this.state.errors.Selectedoption.value : ''}\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(InputLabel, {\n      shrink: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, \"Batches\"), /*#__PURE__*/React.createElement(SingleSelect, {\n      name: \"SelectedBatch\",\n      id: \"SelectedBatch\",\n      key: this.state.SelectedBatch || '',\n      options: this.state.batchList,\n      value: this.state.SelectedBatch || '',\n      onChange: this.handleBatchChange.bind(this, 'SelectedBatch'),\n      helperText: this.state.errors.Selectedstate != undefined ? this.state.errors.Selectedstate.label : '',\n      error: this.state.errors.Selectedstate != undefined ? this.state.errors.Selectedstate.value : '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/BulkUpload.js"],"names":["React","Component","XLSX","Checkbox","InputLabel","Input","Grid","Button","SingleSelect","label","useState","useHistory","Table","TableBody","TableCell","TableHead","TableRow","DropzoneArea","UserContext","fetchNotCompletedBatchDetails","saveBulkMetaData","saveBulkStudentData","excel","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","bulkUpload","constructor","props","state","option","value","batchList","Selectedoption","handleOptionsChange","selectname","event","setState","console","log","centerId","then","jsondata","result","JSON","parse","data","forEach","element","freezeDate","batcheList","push","batchId","batchName","render","width","options","bind","SelectedBatch","handleBatchChange","errors","Selectedstate","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as XLSX from \"xlsx\";\r\nimport { Checkbox, InputLabel, Input, Grid, Button } from '@material-ui/core';\r\nimport { SingleSelect } from \"react-select-material-ui\";\r\nimport label from 'material-ui/svg-icons/action/label';\r\nimport { useState} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport {DropzoneArea} from 'material-ui-dropzone';\r\nimport UserContext from '../components/GolbalContext'\r\nimport {fetchNotCompletedBatchDetails,saveBulkMetaData,saveBulkStudentData} from '../util/api';\r\nimport excel from 'xlsx';\r\nlet today = new Date();\r\nlet dd = String(today.getDate()).padStart(2, '0');\r\nlet mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\nlet yyyy = today.getFullYear();\r\ntoday = yyyy + '-' + mm + '-' + dd;\r\n\r\nexport default class bulkUpload extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      option:[{value:\"Mobilization\", label:\"Mobilization\"},\r\n            , {value:\"Enrollment\" ,label:\"Enrollment\"}],\r\n      batchList:[],\r\n      Selectedoption:\"\",\r\n\r\n\r\n    }\r\n  }\r\n// optind change handler\r\n  handleOptionsChange(selectname,event){\r\n    this.setState({\r\n      [selectname]:event\r\n    })\r\n    console.log(\"selected optins : \",this.state.Selectedoption)\r\n    if(event === \"Enrollment\"){\r\n      // setDisabled(false)\r\n      fetchNotCompletedBatchDetails(UserContext.centerId).then((jsondata) => {\r\n        let result = JSON.parse(jsondata.data);\r\n        console.log(\"senter : \",result)\r\n        // console.log(result[0].freezeDate)\r\n        // setbatches([])\r\n       result.forEach(element => {\r\n\r\n         console.log(\"Condition for date \" , element.freezeDate > today)\r\n          \r\n          if(element.freezeDate > today ){\r\n            this.state.batcheList.push({\r\n              value: element.batchId,\r\n              label: element.batchName\r\n            })\r\n        }\r\n       });\r\n       console.log(this.state.batcheList)\r\n      })\r\n    }\r\n    else{\r\n      // setDisabled(true)\r\n    }\r\n  }\r\n  render(){\r\n    return(\r\n      <div style={{ width: '100%' }}>\r\n      <Grid container>\r\n      <Grid item xs={12}> </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <InputLabel shrink={true} >Options</InputLabel>\r\n            <SingleSelect\r\n              name=\"Selectedoption\" id=\"Selectedoption\"\r\n              options={this.state.options}\r\n              value={this.state.Selectedoption || ''}\r\n              key={this.state.Selectedoption || ''}\r\n              onChange={this.handleOptionsChange.bind(this, 'Selectedoption')}\r\n              // helperText={this.state.errors.Selectedoption != undefined ? this.state.errors.Selectedoption.label : ''}\r\n              // error={this.state.errors.Selectedoption != undefined ? this.state.errors.Selectedoption.value : ''}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={2}></Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <InputLabel shrink={true} >Batches</InputLabel>\r\n            <SingleSelect\r\n              name=\"SelectedBatch\" id=\"SelectedBatch\"\r\n              key={this.state.SelectedBatch || ''}\r\n              options={this.state.batchList}\r\n              value={this.state.SelectedBatch || ''}\r\n              onChange={this.handleBatchChange.bind(this, 'SelectedBatch')}\r\n              helperText={this.state.errors.Selectedstate != undefined ? this.state.errors.Selectedstate.label : ''}\r\n              error={this.state.errors.Selectedstate != undefined ? this.state.errors.Selectedstate.value : ''}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <br />\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}