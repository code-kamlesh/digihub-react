{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\BusinessCase.js\";\nimport React, { Component } from 'react';\nimport { FormControl, InputLabel, Input, Grid, TextField, Button } from '@material-ui/core';\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\nimport { businessCaseSaveOrUpdate, fetchBusinessCaseQuestions, fetchUserDocuments, fetchBusinessCaseMetaData, uploadDocument } from './../util/api';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport UserContext from '../components/GolbalContext';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport AlertDialog from './../util/AlertDialog';\nimport { serviceEndPoint } from './../util/serviceEndPoint';\nconst alertDialogOptions = {\n  message: ''\n};\nexport default class BusinessCase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInputChange = event => {\n      const target = event.target;\n      const value = target.value;\n      const name = target.name;\n      const id = target.id;\n      let item = this.state.answerValue[id];\n      item.value = value;\n      this.state.answerValue[id] = item;\n      let question = {};\n      var userId = this.state.dbUserId;\n      var engagementId = this.state.engagementId;\n      question.userId = this.state.dbUserId;\n      question.questionId = id;\n      question.createdBy = 1;\n      question.updatedBy = 1;\n      question.answer = value;\n      question.remarks = \"No\";\n      question.engagementId = this.state.engagementId;\n      const totalCharacters = 100;\n      document.getElementById(\"leftCharacters\" + name).innerHTML = \"Number of characters left \" + (totalCharacters - value.length);\n\n      if (id == 1) {\n        this.setState({\n          questionAnswer1: { ...this.state.questionAnswer1,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 2) {\n        this.setState({\n          questionAnswer2: { ...this.state.questionAnswer2,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 3) {\n        this.setState({\n          questionAnswer3: { ...this.state.questionAnswer3,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 4) {\n        this.setState({\n          questionAnswer4: { ...this.state.questionAnswer4,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 5) {\n        this.setState({\n          questionAnswer5: { ...this.state.questionAnswer5,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 6) {\n        this.setState({\n          questionAnswer6: { ...this.state.questionAnswer6,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 7) {\n        this.setState({\n          questionAnswer7: { ...this.state.questionAnswer7,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 8) {\n        this.setState({\n          questionAnswer8: { ...this.state.questionAnswer8,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 9) {\n        this.setState({\n          questionAnswer9: { ...this.state.questionAnswer9,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n\n      if (id == 10) {\n        this.setState({\n          questionAnswer10: { ...this.state.questionAnswer10,\n            \"answer\": value,\n            \"userId\": userId,\n            \"remarks\": \"No\",\n            \"questionId\": id,\n            \"engagementId\": engagementId,\n            \"createdBy\": UserContext.userid,\n            \"updatedBy\": UserContext.userid\n          }\n        });\n      }\n    };\n\n    this.saveBusinessCaseDetails = event => {\n      event.preventDefault();\n      this.state.allQuestionAnswers.push(this.state.questionAnswer1);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer2);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer3);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer4);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer5);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer6);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer7);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer8);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer9);\n      this.state.allQuestionAnswers.push(this.state.questionAnswer10);\n      businessCaseSaveOrUpdate(JSON.stringify(this.state.allQuestionAnswers)).then(jsondata => {\n        this.setState({\n          alertDialogFlag: false\n        }); // if(jsondata.appError==''){ \n\n        let jsonobjects = JSON.parse(jsondata.data);\n        alertDialogOptions.message = /*#__PURE__*/React.createElement(\"span\", {\n          style: {\n            color: \"green\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 32\n          }\n        }, \"Data Saved Sucessfully\");\n        this.setState({\n          alertDialogFlag: true\n        }); // this.props.history.push({\n        //   pathname: '/dashboard/managebeneficiary',\n        //   state: { dbUserId: jsonobjects[0].dbUserId ,  tab : 6 }\n        // });\n        //  } \n      });\n    };\n\n    this.onFileChangeHandler = files => {\n      // e.preventDefault();\n      //  this.setState({businessCasefile: e.target.files[0]});\n      this.setState({\n        businessCasefile: files[0]\n      });\n    };\n\n    this.uploadBusinessCaseDocument = e => {\n      e.preventDefault();\n      this.setState({\n        alertDialogFlag: false\n      });\n      let formData = new FormData(); // formData.append('file', this.state.businessCasefile);\n\n      let localThis = this;\n      let reader = new FileReader();\n      reader.readAsDataURL(this.state.businessCasefile);\n\n      reader.onload = function () {\n        let document = reader.result;\n        uploadDocument(localThis.state.dbUserId, localThis.state.engagementId, \"Business Brief\", \"P\", \"Business Brief\", document, \"\").then(jsondata => {\n          alertDialogOptions.message = /*#__PURE__*/React.createElement(\"span\", {\n            style: {\n              color: \"green\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 32\n            }\n          }, \"File uploaded successfully\");\n          localThis.setState({\n            alertDialogFlag: true\n          });\n          localThis.setState({\n            businessCasefile: ''\n          });\n          fetchUserDocuments(localThis.state.engagementId, 'Business Brief', 'P').then(jsondata => {\n            let jsonobjects = JSON.parse(jsondata.data);\n            localThis.setState({\n              userBusinessCaseDocuments: jsonobjects\n            });\n          }); // .then(res => {\n          //     if(res.ok) {\n          //         alertDialogOptions.message=<span style={{color:\"green\"}}>File uploaded successfully</span>;\n          //         localThis.setState({alertDialogFlag:true});\n          //         localThis.setState({businessCasefile:''});\n          //         fetchUserDocuments(localThis.state.engagementId,'Business Brief','P').then((jsondata) => {   \n          //         let jsonobjects = JSON.parse(jsondata.data);          \n          //         localThis.setState({userBusinessCaseDocuments : jsonobjects});\n          //       });\n          //     }\n        });\n      };\n    };\n\n    this.downloadBusinessCaseDocument = value => {\n      let formData = new FormData();\n      formData.append('data', '{\"token\" : \"\", \"action\" : \"downloadDocument\", \"data\" : [{\"basicDocId\":' + value + '}]}');\n      fetch(serviceEndPoint.documentServiceEndPoint, {\n        method: 'post',\n        headers: {\n          'Authorization': 'Bearer ' + UserContext.token\n        },\n        body: formData\n      }).then(response => response.json()).then(jsondata => {\n        let jsonobjects = JSON.parse(jsondata.data);\n        var url = serviceEndPoint.downloadDocument + jsonobjects[0].documentPath + \"\";\n        window.open(url, \"_blank\");\n      });\n    };\n\n    this.state = {\n      allQuestionAnswers: [],\n      questionAnswer1: [],\n      questionAnswer2: [],\n      questionAnswer3: [],\n      questionAnswer4: [],\n      questionAnswer5: [],\n      questionAnswer6: [],\n      questionAnswer7: [],\n      questionAnswer8: [],\n      questionAnswer9: [],\n      questionAnswer10: [],\n      businessCaseMetaData: [],\n      userBusinessCaseDocuments: [],\n      answersFromdb: [],\n      answerValue: [{\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }, {\n        value: ''\n      }],\n      businessCasefile: null,\n      businessCaseFileName: '',\n      dbUserId: '',\n      engagementId: 0,\n      errors: {\n        metaDataError1: '',\n        metaDataError2: '',\n        metaDataError3: '',\n        metaDataError4: '',\n        metaDataError5: '',\n        metaDataError6: '',\n        metaDataError7: '',\n        metaDataError8: '',\n        metaDataError9: '',\n        metaDataError10: '',\n        linkedEngagementId: ''\n      }\n    };\n    this.formData = {\n      businessCaseMetaData: []\n    };\n\n    if (props.id != null && props.id != undefined) {\n      this.state.dbUserId = props.id;\n      this.state.engagementId = props.engagementId;\n      this.state.linkedEngagementId = props.linkedEngagementId;\n    }\n\n    fetchBusinessCaseQuestions().then(jsondata => {\n      if (jsondata.appError == null) {\n        let jsonobjects = JSON.parse(jsondata.data);\n        this.setState({\n          businessCaseMetaData: jsonobjects\n        });\n      }\n    });\n    fetchUserDocuments(UserContext.defaultProgramId === 1 || UserContext.defaultProgramId === 9 ? this.state.linkedEngagementId : this.state.engagementId, 'Business Brief', 'P').then(jsondata => {\n      console.log(jsondata);\n      let jsonobjects = JSON.parse(jsondata.data);\n      this.setState({\n        userBusinessCaseDocuments: jsonobjects\n      });\n    });\n    fetchBusinessCaseMetaData(UserContext.defaultProgramId === 1 || UserContext.defaultProgramId === 9 ? this.state.linkedEngagementId : this.state.engagementId).then(jsondata => {\n      // if(jsondata.appError==null){    \n      let jsonobjects = JSON.parse(jsondata.data);\n      this.setState({\n        answersFromdb: jsonobjects\n      });\n\n      for (let i = 0; i < jsonobjects.length; i++) {\n        if (i == 0) {\n          this.setState({\n            questionAnswer1: jsonobjects[i]\n          });\n        }\n\n        if (i == 1) {\n          this.setState({\n            questionAnswer2: jsonobjects[i]\n          });\n        }\n\n        if (i == 2) {\n          this.setState({\n            questionAnswer3: jsonobjects[i]\n          });\n        }\n\n        if (i == 3) {\n          this.setState({\n            questionAnswer4: jsonobjects[i]\n          });\n        }\n\n        if (i == 4) {\n          this.setState({\n            questionAnswer5: jsonobjects[i]\n          });\n        }\n\n        if (i == 5) {\n          this.setState({\n            questionAnswer6: jsonobjects[i]\n          });\n        }\n\n        if (i == 6) {\n          this.setState({\n            questionAnswer7: jsonobjects[i]\n          });\n        }\n\n        if (i == 7) {\n          this.setState({\n            questionAnswer8: jsonobjects[i]\n          });\n        }\n\n        if (i == 8) {\n          this.setState({\n            questionAnswer9: jsonobjects[i]\n          });\n        }\n\n        if (i == 9) {\n          this.setState({\n            questionAnswer10: jsonobjects[i]\n          });\n        }\n      } //  }\n\n    });\n  }\n\n  getBusinessCaseAnswer(id) {\n    let answersFromdb = this.state.answersFromdb;\n\n    for (let i = 0; i < answersFromdb.length; i++) {\n      var sigleAnsewr = answersFromdb[i];\n\n      if (sigleAnsewr.questionId == id) {\n        return sigleAnsewr.answer;\n      }\n    }\n  } // onFileChangeHandler = (e) => {\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.saveBusinessCaseDetails,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 13\n      }\n    }, \"Business Case Brief\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }\n    }, this.state.businessCaseMetaData.map(row => /*#__PURE__*/React.createElement(TableRow, {\n      key: row.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      style: {\n        width: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"sup\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"font\", {\n      color: \"red\",\n      size: \"4px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 20\n      }\n    }, \"*\")), \"  \", row.question, /*#__PURE__*/React.createElement(TextareaAutosize, {\n      \"aria-label\": \"empty textarea\",\n      style: {\n        width: \"100%\",\n        height: \"100px\"\n      },\n      name: row.id,\n      id: row.id,\n      value: this.state.answerValue[row.id].value || this.getBusinessCaseAnswer(row.id),\n      onChange: this.handleInputChange,\n      required: true,\n      maxLength: \"100\",\n      readOnly: UserContext.roleid == 3 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      name: \"leftCharacters\" + row.id,\n      id: \"leftCharacters\" + row.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 15\n      }\n    }, \"Number of characters left 100\"))))))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-end\",\n      alignItems: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      size: \"small\",\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: UserContext.roleid == 3 ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 1\n      }\n    }, \"Save\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 1\n      }\n    }), UserContext.roleid != 3 && /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.uploadBusinessCaseDocument,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(DropzoneArea, {\n      name: \"businessCaseFile\",\n      id: \"businessCaseFile\",\n      maxFileSize: 2000000,\n      filesLimit: 1,\n      showFileNames: true,\n      onChange: this.onFileChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 15\n      }\n    }), \"\\xA0\\xA0\", /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-end\",\n      alignItems: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      disabled: this.state.businessCasefile == null ? true : false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 14\n      }\n    }, \"Upload Business Brief\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 5\n      }\n    }), this.state.userBusinessCaseDocuments != \"\" && /*#__PURE__*/React.createElement(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      \"aria-label\": \"simple table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 11\n      }\n    }, \"Created On\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }\n    }, \"Document Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }\n    }, \"File Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }\n    }, \"Download\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }\n    }, this.state.userBusinessCaseDocuments.map(row => /*#__PURE__*/React.createElement(TableRow, {\n      key: row.basicDocId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 15\n      }\n    }, row.createdOn), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 15\n      }\n    }, row.documentName), /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 15\n      }\n    }, row.documentPath.split(\"/\")[1]), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      name: \"download\",\n      id: \"download\",\n      onClick: this.downloadBusinessCaseDocument.bind(this, row.basicDocId),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 15\n      }\n    }, \"Download\"))))))), this.state.alertDialogFlag && /*#__PURE__*/React.createElement(AlertDialog, {\n      message: alertDialogOptions.message,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 35\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/BusinessCase.js"],"names":["React","Component","FormControl","InputLabel","Input","Grid","TextField","Button","TextareaAutosize","businessCaseSaveOrUpdate","fetchBusinessCaseQuestions","fetchUserDocuments","fetchBusinessCaseMetaData","uploadDocument","Table","TableBody","TableCell","TableHead","TableRow","Paper","UserContext","DropzoneArea","AlertDialog","serviceEndPoint","alertDialogOptions","message","BusinessCase","constructor","props","handleInputChange","event","target","value","name","id","item","state","answerValue","question","userId","dbUserId","engagementId","questionId","createdBy","updatedBy","answer","remarks","totalCharacters","document","getElementById","innerHTML","length","setState","questionAnswer1","userid","questionAnswer2","questionAnswer3","questionAnswer4","questionAnswer5","questionAnswer6","questionAnswer7","questionAnswer8","questionAnswer9","questionAnswer10","saveBusinessCaseDetails","preventDefault","allQuestionAnswers","push","JSON","stringify","then","jsondata","alertDialogFlag","jsonobjects","parse","data","color","onFileChangeHandler","files","businessCasefile","uploadBusinessCaseDocument","e","formData","FormData","localThis","reader","FileReader","readAsDataURL","onload","result","userBusinessCaseDocuments","downloadBusinessCaseDocument","append","fetch","documentServiceEndPoint","method","headers","token","body","response","json","url","downloadDocument","documentPath","window","open","businessCaseMetaData","answersFromdb","businessCaseFileName","errors","metaDataError1","metaDataError2","metaDataError3","metaDataError4","metaDataError5","metaDataError6","metaDataError7","metaDataError8","metaDataError9","metaDataError10","linkedEngagementId","undefined","appError","defaultProgramId","console","log","i","getBusinessCaseAnswer","sigleAnsewr","render","width","map","row","height","roleid","basicDocId","createdOn","documentName","split","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { FormControl , InputLabel, Input, Grid , TextField,Button}  from '@material-ui/core';\r\nimport TextareaAutosize from '@material-ui/core/TextareaAutosize';\r\nimport {businessCaseSaveOrUpdate,fetchBusinessCaseQuestions,fetchUserDocuments,fetchBusinessCaseMetaData,\r\n  uploadDocument} from './../util/api';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport UserContext from '../components/GolbalContext'\r\nimport {DropzoneArea} from 'material-ui-dropzone'\r\nimport AlertDialog from './../util/AlertDialog';\r\nimport { serviceEndPoint } from './../util/serviceEndPoint';\r\n\r\nconst alertDialogOptions = {\r\n  message: ''\r\n}\r\nexport default class BusinessCase extends Component{\r\nconstructor(props){\r\nsuper(props);\r\nthis.state = {allQuestionAnswers:[],questionAnswer1:[],questionAnswer2:[],\r\n              questionAnswer3:[],questionAnswer4:[],questionAnswer5:[],\r\n              questionAnswer6:[],questionAnswer7:[],\r\n              questionAnswer8:[],questionAnswer9:[],questionAnswer10:[],\r\n              businessCaseMetaData:[],userBusinessCaseDocuments:[],\r\n              answersFromdb:[],answerValue:[{value:''},{value:''},{value:''},{value:''},{value:''},\r\n              {value:''},{value:''},{value:''},{value:''},{value:''},{value:''}],\r\n              businessCasefile:null,businessCaseFileName:'',dbUserId:'', engagementId : 0,\r\n              errors:{metaDataError1:'',metaDataError2:'',metaDataError3:'',metaDataError4:'',\r\n              metaDataError5:'',metaDataError6:'',metaDataError7:'',metaDataError8:'',\r\n              metaDataError9:'',metaDataError10:'',linkedEngagementId:''}\r\n              \r\n\r\n\r\n            };\r\nthis.formData={\r\n    businessCaseMetaData:[]\r\n};\r\n\r\n\r\nif(props.id != null && props.id != undefined)\r\n{\r\n   this.state.dbUserId=props.id;\r\n   this.state.engagementId=props.engagementId;\r\n   this.state.linkedEngagementId=props.linkedEngagementId;\r\n}\r\n\r\n\r\nfetchBusinessCaseQuestions().then((jsondata) => { \r\n    if(jsondata.appError==null){    \r\n    let jsonobjects = JSON.parse(jsondata.data);           \r\n    this.setState({businessCaseMetaData : jsonobjects});\r\n    }\r\n});\r\nfetchUserDocuments((UserContext.defaultProgramId === 1 || UserContext.defaultProgramId === 9) ?this.state.linkedEngagementId:this.state.engagementId,'Business Brief','P').then((jsondata) => {   \r\n  console.log(jsondata);\r\n    let jsonobjects = JSON.parse(jsondata.data);          \r\n    this.setState({userBusinessCaseDocuments : jsonobjects});\r\n    \r\n});\r\n\r\nfetchBusinessCaseMetaData((UserContext.defaultProgramId === 1 || UserContext.defaultProgramId === 9) ?this.state.linkedEngagementId:this.state.engagementId).then((jsondata) => { \r\n   // if(jsondata.appError==null){    \r\n    let jsonobjects = JSON.parse(jsondata.data);  \r\n    this.setState({answersFromdb : jsonobjects});\r\n    for(let i=0;i<jsonobjects.length;i++){\r\n      if(i==0){this.setState({questionAnswer1 :jsonobjects[i]});}\r\n      if(i==1){this.setState({questionAnswer2 :jsonobjects[i]});}\r\n      if(i==2){this.setState({questionAnswer3 :jsonobjects[i]});}\r\n      if(i==3){this.setState({questionAnswer4 :jsonobjects[i]});}\r\n      if(i==4){this.setState({questionAnswer5 :jsonobjects[i]});}\r\n      if(i==5){this.setState({questionAnswer6 :jsonobjects[i]});}\r\n      if(i==6){this.setState({questionAnswer7 :jsonobjects[i]});}\r\n      if(i==7){this.setState({questionAnswer8 :jsonobjects[i]});}\r\n      if(i==8){this.setState({questionAnswer9 :jsonobjects[i]});}\r\n      if(i==9){this.setState({questionAnswer10 :jsonobjects[i]});}\r\n\r\n     }\r\n\r\n\r\n\r\n\r\n\r\n  //  }\r\n});\r\n}\r\nhandleInputChange = (event) =>{  \r\n    const target = event.target;  \r\n    const value = target.value;  \r\n    const name = target.name;  \r\n    const id = target.id;\r\n    let item = this.state.answerValue[id];\r\n    item.value = value;\r\n    this.state.answerValue[id]=item;\r\n    let question={};\r\n    \r\n    var userId=this.state.dbUserId;\r\n    var engagementId=this.state.engagementId;\r\n     question.userId=this.state.dbUserId;\r\n    question.questionId=id;\r\n    question.createdBy=1;\r\n    question.updatedBy=1;\r\n    question.answer=value;\r\n    question.remarks=\"No\";\r\n    question.engagementId=this.state.engagementId;\r\n    const totalCharacters=100;\r\n    document.getElementById(\"leftCharacters\"+name).innerHTML=\"Number of characters left \"+(totalCharacters-value.length);\r\n\r\n    if(id==1){\r\n    this.setState({\r\n      questionAnswer1: {...this.state.questionAnswer1,\r\n        \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n        \"questionId\":id,\"engagementId\":engagementId,\r\n        \"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n  }\r\n    if(id==2){\r\n      this.setState({\r\n        questionAnswer2: {...this.state.questionAnswer2,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\r\n          \"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n\r\n\r\n    }\r\n    if(id==3){\r\n      this.setState({\r\n        questionAnswer3: {...this.state.questionAnswer3,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\r\n          \"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n    if(id==4){\r\n      this.setState({\r\n        questionAnswer4: {...this.state.questionAnswer4,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n\r\n\r\n    }\r\n    if(id==5){\r\n      this.setState({\r\n        questionAnswer5: {...this.state.questionAnswer5,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n\r\n    }\r\n    if(id==6){\r\n      this.setState({\r\n        questionAnswer6: {...this.state.questionAnswer6,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n    if(id==7){\r\n      this.setState({\r\n        questionAnswer7: {...this.state.questionAnswer7,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n    if(id==8){\r\n      this.setState({\r\n        questionAnswer8: {...this.state.questionAnswer8,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n    if(id==9){\r\n      this.setState({\r\n        questionAnswer9: {...this.state.questionAnswer9,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n    if(id==10){\r\n      this.setState({\r\n        questionAnswer10: {...this.state.questionAnswer10,\r\n          \"answer\": value,\"userId\": userId,\"remarks\":\"No\",\r\n          \"questionId\":id,\"engagementId\":engagementId,\"createdBy\":UserContext.userid,\"updatedBy\":UserContext.userid}})\r\n    }\r\n\r\n}  \r\n\r\nsaveBusinessCaseDetails=(event)=>{\r\n     event.preventDefault();\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer1);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer2);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer3);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer4);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer5);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer6);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer7);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer8);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer9);\r\n      this.state.allQuestionAnswers.push(this.state.questionAnswer10);\r\n\r\nbusinessCaseSaveOrUpdate(JSON.stringify(this.state.allQuestionAnswers)).then((jsondata) => { \r\n  this.setState({alertDialogFlag:false});\r\n   // if(jsondata.appError==''){ \r\n    let jsonobjects = JSON.parse(jsondata.data);\r\n    alertDialogOptions.message=<span style={{color:\"green\"}}>Data Saved Sucessfully</span>;\r\n    this.setState({alertDialogFlag:true});\r\n\r\n\r\n    // this.props.history.push({\r\n    //   pathname: '/dashboard/managebeneficiary',\r\n    //   state: { dbUserId: jsonobjects[0].dbUserId ,  tab : 6 }\r\n    // });\r\n  //  } \r\n  });\r\n\r\n}\r\n\r\n\r\ngetBusinessCaseAnswer(id){\r\n    let answersFromdb=this.state.answersFromdb;\r\n    for (let i = 0; i < answersFromdb.length; i++) {\r\n        var sigleAnsewr =answersFromdb[i];\r\n              if(sigleAnsewr.questionId==id){\r\n                 return sigleAnsewr.answer;\r\n              }\r\n             \r\n    }\r\n}\r\n\r\n\r\n// onFileChangeHandler = (e) => {\r\n  onFileChangeHandler = (files) => {\r\n // e.preventDefault();\r\n //  this.setState({businessCasefile: e.target.files[0]});\r\n\r\n this.setState({\r\n  businessCasefile: files[0]\r\n});\r\n}\r\n \r\n\r\nuploadBusinessCaseDocument = (e) => {\r\n  e.preventDefault();\r\n  this.setState({alertDialogFlag:false});\r\n  let formData = new FormData();\r\n  // formData.append('file', this.state.businessCasefile);\r\n\r\nlet localThis=this;\r\n\r\n  let reader = new FileReader();\r\n  reader.readAsDataURL(this.state.businessCasefile);\r\n  reader.onload = function () {\r\n  let  document = reader.result;\r\n  \r\n\r\n  uploadDocument(localThis.state.dbUserId,localThis.state.engagementId,\"Business Brief\",\"P\",\"Business Brief\",document,\"\")\r\n  .then((jsondata) => {\r\n    alertDialogOptions.message=<span style={{color:\"green\"}}>File uploaded successfully</span>;\r\n    localThis.setState({alertDialogFlag:true});\r\n    localThis.setState({businessCasefile:''});\r\n    fetchUserDocuments(localThis.state.engagementId,'Business Brief','P').then((jsondata) => {   \r\n        let jsonobjects = JSON.parse(jsondata.data);          \r\n        localThis.setState({userBusinessCaseDocuments : jsonobjects});\r\n })\r\n  // .then(res => {\r\n  //     if(res.ok) {\r\n  //         alertDialogOptions.message=<span style={{color:\"green\"}}>File uploaded successfully</span>;\r\n  //         localThis.setState({alertDialogFlag:true});\r\n  //         localThis.setState({businessCasefile:''});\r\n  //         fetchUserDocuments(localThis.state.engagementId,'Business Brief','P').then((jsondata) => {   \r\n  //         let jsonobjects = JSON.parse(jsondata.data);          \r\n  //         localThis.setState({userBusinessCaseDocuments : jsonobjects});\r\n            \r\n  //       });\r\n\r\n  //     }\r\n   });\r\n\r\n\r\n\r\n};\r\n\r\n}\r\n\r\ndownloadBusinessCaseDocument = (value) => \r\n{\r\nlet formData = new FormData();\r\n  formData.append('data', '{\"token\" : \"\", \"action\" : \"downloadDocument\", \"data\" : [{\"basicDocId\":'+value+'}]}');\r\n  fetch(serviceEndPoint.documentServiceEndPoint, {\r\n      method: 'post',\r\n      headers: {\r\n        'Authorization': 'Bearer '+UserContext.token\r\n    }, \r\n      body: formData\r\n  }).then(response => response.json()).then((jsondata)=>{\r\n    let jsonobjects = JSON.parse(jsondata.data);\r\n    var url=serviceEndPoint.downloadDocument+jsonobjects[0].documentPath+\"\"; \r\n    window.open(url, \"_blank\");\r\n   \r\n\r\n  });\r\n  }\r\n\r\n\r\n\r\n\r\nrender(){\r\nreturn(\r\n    <div style = {{ width : '100%' }}>\r\n         <form onSubmit={this.saveBusinessCaseDetails} method=\"post\">\r\n    <Paper >\r\n      <Table  aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Business Case Brief</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {this.state.businessCaseMetaData.map(row => (\r\n            <TableRow key={row.id}>\r\n              <TableCell component=\"th\" scope=\"row\" style={{ width:100 }}>\r\n              <sup><font color=\"red\" size=\"4px\">*</font></sup>  {row.question}\r\n              <TextareaAutosize aria-label=\"empty textarea\"  style={{width:\"100%\",height:\"100px\"}}\r\n               name={row.id}  id={row.id} \r\n               value={this.state.answerValue[row.id].value || this.getBusinessCaseAnswer(row.id)} \r\n               onChange={this.handleInputChange}\r\n               required\r\n               maxLength=\"100\"\r\n               readOnly={UserContext.roleid==3?true:false}\r\n              />\r\n              <div name={\"leftCharacters\"+row.id}  id={\"leftCharacters\"+row.id} >Number of characters left 100</div> \r\n            </TableCell>                      \r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper> \r\n\r\n<br/>\r\n<Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-end\">\r\n<Button type=\"submit\" size=\"small\" variant=\"contained\" color=\"primary\" \r\n disabled={UserContext.roleid==3?true:false}\r\n>Save</Button>\r\n</Grid>\r\n</form>\r\n<br/>\r\n\r\n{UserContext.roleid!=3 &&\r\n\r\n              <form onSubmit={this.uploadBusinessCaseDocument} method=\"post\">\r\n\r\n              <DropzoneArea  \r\n              name=\"businessCaseFile\" id=\"businessCaseFile\"\r\n              maxFileSize={2000000} filesLimit={1} showFileNames={true}\r\n              onChange={this.onFileChangeHandler} />\r\n               &nbsp;&nbsp;\r\n               <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-end\">\r\n             <Button type=\"submit\" variant=\"contained\" color=\"primary\" size=\"small\" \r\n                    disabled={this.state.businessCasefile==null?true:false}\r\n\r\n             >Upload Business Brief</Button>\r\n             </Grid>\r\n           </form>\r\n\r\n}\r\n\r\n    <br/>\r\n\r\n    { \r\n  (this.state.userBusinessCaseDocuments!=\"\") &&\r\n\r\n<Paper>\r\n      <Table  aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n          <TableCell>Created On</TableCell>\r\n          <TableCell>Document Name</TableCell>\r\n          <TableCell>File Name</TableCell>\r\n          <TableCell >Download</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {this.state.userBusinessCaseDocuments.map(row => (\r\n            <TableRow key={row.basicDocId}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n          \r\n                {row.createdOn}\r\n              </TableCell>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.documentName}\r\n              </TableCell>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.documentPath.split(\"/\")[1]}\r\n              </TableCell>\r\n            <TableCell >                 \r\n              <Button variant=\"contained\" color=\"primary\" size=\"small\" name=\"download\" id=\"download\" \r\n             \r\n               onClick={this.downloadBusinessCaseDocument.bind(this,row.basicDocId)}\r\n              >Download</Button>\r\n            </TableCell>            \r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n\r\n\r\n          }\r\n\r\n\r\n    { \r\n  (this.state.alertDialogFlag) && <AlertDialog   message={alertDialogOptions.message}></AlertDialog>\r\n    }\r\n    </div>\r\n);\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}