{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\AssessorEvaluation.js\";\nimport React, { Component } from 'react';\nimport { useState } from 'react';\nimport './../App.css';\nimport './../assets/css/login-style.css';\nimport './../assets/css/font-awesome.min.css';\nimport underscore from 'underscore'; //import ChartistGraph from \"react-chartist\";\n// @material-ui/core\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n//import 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Store from \"@material-ui/icons/Store\";\nimport Warning from \"@material-ui/icons/Warning\";\nimport DateRange from \"@material-ui/icons/DateRange\";\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\nimport Update from \"@material-ui/icons/Update\";\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\nimport AccessTime from \"@material-ui/icons/AccessTime\";\nimport Accessibility from \"@material-ui/icons/Accessibility\";\nimport BugReport from \"@material-ui/icons/BugReport\";\nimport Code from \"@material-ui/icons/Code\";\nimport Cloud from \"@material-ui/icons/Cloud\";\nimport Button from '@material-ui/core/Button';\nimport MUIDataTable from \"mui-datatables\";\nimport { changeStudentStatus, saveEvaluationData, fetchKnackScore, fetchEvaluationData } from './../util/api';\nimport { FormControl, InputLabel, Input, Grid, TextField } from '@material-ui/core'; //import { FormControl , FormControlLabel , InputLabel, Input, Grid,  , RadioGroup, Radio}  from '@material-ui/core';\n\nimport styles from \"../components/components.js\";\nimport { CommunicationCallMerge } from 'material-ui/svg-icons';\nimport { SingleSelect } from \"react-select-material-ui\";\nimport callMerge from 'material-ui/svg-icons/communication/call-merge';\nimport UserContext from '../components/GolbalContext'; //import MasterData from './../components/MasterData.js'\n\nimport { fectUserDetails } from './../util/api';\nimport { serviceEndPoint } from './../util/serviceEndPoint';\nimport { checkButton, checkButtonForArray, validateAssessorName } from './../util/validation';\nimport DetailsPage from './DetailsPage.js';\n\nclass AssessorEvaluation extends Component {\n  constructor(props) {\n    super(props); //     this.myData = { \n    //     behaviourExecScore : [\n    //         { value: \"20\", label: 'Candidate was not able to narrate relevant example/s to showcase expected traits' },\n    //         { value: \"60\", label: 'Candidate was able to narrate example/s which showcased some of the expected traits' },\n    //         { value: \"100\", label: 'Candidate was able to narrate relevant example/s which consistently showcased the trait expected' }\n    //     ],\n    //     groupExecScore : [\n    //         { value: \"0\", label: 'No Traits observed' },\n    //         { value: \"20\", label: 'Only 1 Traits Observed' },\n    //         { value: \"40\", label: '2 Traits Observed' },\n    //         { value: \"60\", label: '3 Traits Observed' },\n    //         { value: \"80\", label: 'All 4 Traits Observed' },\n    //         { value: \"100\", label: 'All 4 Traits Observed Consistently' }\n    //     ],\n    //  }\n\n    this.handleChange = idx => e => {\n      const rows = [...this.state.rows];\n      const errors = [...this.state.errors];\n      const {\n        name,\n        value\n      } = e.target;\n      errors[idx] = {};\n      errors[idx][name] = {\n        \"label\": \"\",\n        \"value\": false\n      };\n      this.setState({\n        \"disabled\": false\n      });\n\n      if (name == \"assessorName\") {\n        let res = validateAssessorName(value, rows);\n        errors[idx][name] = {\n          \"label\": res,\n          \"value\": res == \"\" ? false : true\n        };\n      }\n\n      if (name == \"individualExecScore\") {\n        this.setState({\n          ies: value\n        });\n      }\n\n      rows[idx][name] = value;\n      this.setState({\n        rows,\n        errors\n      }); // alert(JSON.stringify(this.state));\n    };\n\n    this.handleAddRow = props => {\n      const item = {\n        engagementId: this.state.engagementId,\n        assessedBy: UserContext.userid,\n        groupExecObservation: \"\",\n        behaviourInterviewObservation: \"\",\n        individualExecScore: \"\"\n      };\n      this.setState({\n        rows: [...this.state.rows, item],\n        errors: [...this.state.errors, {}]\n      });\n    };\n\n    this.handleRemoveRow = () => {\n      this.setState({\n        rows: this.state.rows.slice(0, -1),\n        errors: this.state.errors.slice(0, -1)\n      });\n    };\n\n    this.handleRemoveSpecificRow = idx => () => {\n      const rows = [...this.state.rows];\n      const errors = [...this.state.errors];\n      rows.splice(idx, 1);\n      errors.splice(idx, 1);\n      this.setState({\n        rows,\n        errors\n      });\n    };\n\n    this.mySubmitHandler = event => {\n      event.preventDefault();\n      this.state.rows.map((item, idx) => {\n        this.state.rows[idx].individualExecScore = this.state.ies;\n      });\n      this.validateAll(); // authentication response and redirect to error or dashbaord page\n\n      this.setState({\n        errors: this.state.errors\n      });\n\n      if (checkButtonForArray(this.state.errors)) {\n        this.state.disabled = false;\n        this.submitEvaluationData();\n      } else {\n        this.state.disabled = true;\n      }\n    };\n\n    this.state = {\n      name: props.name,\n      ies: \"\",\n      readonly: false,\n      disabled: false,\n      flag: \"0\",\n      errors: [],\n      rows: [{\n        'engagementId': props.engagementId,\n        individualExecScore: \"\",\n        groupExecObservation: \"\",\n        behaviourInterviewObservation: \"\",\n        assessedBy: UserContext.userid\n      }],\n      knackData: {},\n      engagementId: props.engagementId,\n      dbUserId: props.dbUserId,\n      evaluationData: [],\n      evaluationSingleData: {\n        'assessedBy': UserContext.userid,\n        'engagementId': props.engagementId,\n        individualExecScore: \"\",\n        groupExecObservation: \"\",\n        behaviourInterviewObservation: \"\"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSelectChange = this.handleSelectChange.bind(this);\n    this.getEvaluationData(this.state.engagementId);\n    this.getKnackScore(this.state.engagementId);\n  }\n\n  handleSelectChange(selectname, event, idx) {\n    const errors = [...this.state.errors];\n    const rows = [...this.state.rows];\n    this.setState({\n      \"disabled\": false\n    });\n    errors[event] = {};\n    errors[event][selectname] = {\n      \"label\": \"\",\n      \"value\": false\n    };\n    rows[event][selectname] = idx;\n    this.setState({\n      rows,\n      errors\n    }); // alert(JSON.stringify(this.state));\n  }\n\n  validateAll() {\n    var errors = this.state.errors;\n    this.state.rows.map((item, idx) => {\n      Object.keys(item).forEach(function (key) {\n        if (item[key] != 0 && (item[key] == undefined || item[key] == '')) {\n          let res = \"Cannot be empty\";\n          errors[idx][key] = {\n            'label': res,\n            'value': res == \"\" ? false : true\n          };\n        }\n      });\n    });\n    this.state.errors = errors;\n  }\n\n  getEvaluationData(eng) {\n    fetchEvaluationData(eng).then(jsondata => {\n      console.log(jsondata);\n      let finalDetails = JSON.parse(jsondata.data);\n      let rows = [];\n      finalDetails.map((item, idx) => {\n        rows[idx] = {};\n        Object.keys(item).forEach(function (key) {\n          rows[idx][key] = item[key].toString();\n        });\n      });\n\n      if (finalDetails.length != 0) {\n        this.setState({\n          readonly: true,\n          rows: rows,\n          ies: finalDetails[0].individualExecScore,\n          errors: [{}]\n        });\n      } //       for(let i=0 ; i<finalDetails.length;i++){\n      //          var  details =\n      //        {   \n      //            'engagement_id':finalDetails[i].engagementId,\n      //            'assessor_name' : finalDetails[i].assessor_name,\n      //            'created_on':finalDetails[i].assessedDate, \n      //        }; \n      //        eData.push(details);\n      //        this.setState({\n      //         evaluationData: eData\n      //           });  \n      // }    \n\n    });\n  }\n\n  getKnackScore(eng) {\n    fetchKnackScore(eng).then(jsondata => {\n      console.log(jsondata);\n\n      if (jsondata.data != []) {\n        let jsonobjects = JSON.parse(jsondata.data);\n\n        if (jsonobjects[0][0] != undefined) {\n          this.setState({\n            knackData: jsonobjects[0][0]\n          });\n        } // alert(JSON.stringify(this.state.knackData)) ;\n\n      } else {\n        console.log(\"error\");\n      }\n    });\n  }\n\n  submitEvaluationData() {\n    document.getElementById(\"save\").setAttribute(\"disabled\", true);\n    saveEvaluationData(this.state.rows).then(jsondata => {\n      console.log(jsondata);\n\n      if (jsondata.appError == null) {\n        let jsonobjects = JSON.parse(jsondata.data);\n        alert(\"Data Saved Successfully\");\n        this.props.history.push({\n          pathname: '/dashboard/managebeneficiary'\n        });\n      } else {\n        console.log(\"error\");\n      }\n    });\n  }\n\n  render() {\n    const columns = [{\n      label: 'Engagement Id',\n      name: 'engagement_id',\n      headerStyle: {\n        color: '#FF9800'\n      }\n    }, {\n      label: 'Assessed By',\n      name: 'assessor_name',\n      headerStyle: {\n        color: '#FF9800'\n      }\n    }, {\n      label: 'Assessed On',\n      name: 'created_on',\n      headerStyle: {\n        color: '#FF9800'\n      }\n    }];\n    const options = {\n      filterType: \"dropdown\",\n      responsive: \"scroll\",\n      selectableRows: false\n    };\n    const dbUserId = this.state.dbUserId == '' || this.state.dbUserId == null;\n    let button;\n    let displayText;\n    let knackText;\n    button = /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      id: \"save\",\n      variant: \"contained\",\n      type: \"submit\",\n      color: \"primary\",\n      disabled: this.state.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 16\n      }\n    }, \"Save\");\n    knackText = /*#__PURE__*/React.createElement(TextField, {\n      label: \"Knack Score\",\n      type: \"number\",\n      name: \"knack\",\n      id: \"knack\",\n      readonly: true,\n      value: this.state.knackData.finalScore || '',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 15\n      }\n    });\n    displayText = /*#__PURE__*/React.createElement(TextField, {\n      label: \"Individual Score\",\n      type: \"number\",\n      name: \"individualExecScore\",\n      onChange: this.handleChange(0),\n      value: this.state.ies,\n      InputProps: {\n        inputProps: {\n          max: 100\n        }\n      },\n      id: \"individualExecScore\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 20\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100%'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.mySubmitHandler,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }\n    }, knackText)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }\n    }, displayText)), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      sm: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"75%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row clearfix\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12 column\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered table-hover\",\n      id: \"tab_logic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 15\n      }\n    }, \" Group Exercise Score \"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 15\n      }\n    }, \" Behaviour Interview Score \"), /*#__PURE__*/React.createElement(\"th\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 15\n      }\n    }, \" Assessor Name \"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }\n    }, this.state.rows.map((item, idx) => /*#__PURE__*/React.createElement(\"tr\", {\n      id: \"addr0\",\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"number\",\n      onChange: this.handleChange(idx),\n      name: \"groupExecObservation\",\n      id: \"groupExecObservation\",\n      InputProps: {\n        inputProps: {\n          max: 16\n        }\n      },\n      helperText: this.state.errors[idx] != undefined && this.state.errors[idx].groupExecObservation != undefined ? this.state.errors[idx].groupExecObservation.label : '',\n      error: this.state.errors[idx] != undefined && this.state.errors[idx].groupExecObservation != undefined ? this.state.errors[idx].groupExecObservation.value : '',\n      value: this.state.rows[idx].groupExecObservation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"number\",\n      onChange: this.handleChange(idx),\n      name: \"behaviourInterviewObservation\",\n      id: \"behaviourInterviewObservation\",\n      InputProps: {\n        inputProps: {\n          max: 20\n        }\n      },\n      helperText: this.state.errors[idx] != undefined && this.state.errors[idx].behaviourInterviewObservation != undefined ? this.state.errors[idx].behaviourInterviewObservation.label : '',\n      error: this.state.errors[idx] != undefined && this.state.errors[idx].behaviourInterviewObservation != undefined ? this.state.errors[idx].behaviourInterviewObservation.value : '',\n      value: this.state.rows[idx].behaviourInterviewObservation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      type: \"text\",\n      name: \"assessorName\",\n      helperText: this.state.errors[idx] != undefined && this.state.errors[idx].assessorName != undefined ? this.state.errors[idx].assessorName.label : '',\n      error: this.state.errors[idx] != undefined && this.state.errors[idx].assessorName != undefined ? this.state.errors[idx].assessorName.value : '',\n      id: \"assessorName\",\n      onChange: this.handleChange(idx),\n      value: this.state.rows[idx].assessorName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger btn-sm\",\n      onClick: this.handleRemoveSpecificRow(idx),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 29\n      }\n    }, \"Remove\")))))))), /*#__PURE__*/React.createElement(Input, {\n      type: \"button\",\n      onClick: this.handleAddRow,\n      className: \"btn btn-primary\",\n      value: \"Add Row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      type: \"button\",\n      onClick: this.handleRemoveRow,\n      className: \"btn btn-danger float-right\",\n      value: \"Delete Row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 7\n      }\n    }), button), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default AssessorEvaluation;","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/AssessorEvaluation.js"],"names":["React","Component","useState","underscore","makeStyles","Icon","Store","Warning","DateRange","LocalOffer","Update","ArrowUpward","AccessTime","Accessibility","BugReport","Code","Cloud","Button","MUIDataTable","changeStudentStatus","saveEvaluationData","fetchKnackScore","fetchEvaluationData","FormControl","InputLabel","Input","Grid","TextField","styles","CommunicationCallMerge","SingleSelect","callMerge","UserContext","fectUserDetails","serviceEndPoint","checkButton","checkButtonForArray","validateAssessorName","DetailsPage","AssessorEvaluation","constructor","props","handleChange","idx","e","rows","state","errors","name","value","target","setState","res","ies","handleAddRow","item","engagementId","assessedBy","userid","groupExecObservation","behaviourInterviewObservation","individualExecScore","handleRemoveRow","slice","handleRemoveSpecificRow","splice","mySubmitHandler","event","preventDefault","map","validateAll","disabled","submitEvaluationData","readonly","flag","knackData","dbUserId","evaluationData","evaluationSingleData","bind","handleSelectChange","getEvaluationData","getKnackScore","selectname","Object","keys","forEach","key","undefined","eng","then","jsondata","console","log","finalDetails","JSON","parse","data","toString","length","jsonobjects","document","getElementById","setAttribute","appError","alert","history","push","pathname","render","columns","label","headerStyle","color","options","filterType","responsive","selectableRows","button","displayText","knackText","finalScore","inputProps","max","width","assessorName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { useState } from 'react';\r\nimport './../App.css';\r\nimport './../assets/css/login-style.css'\r\nimport './../assets/css/font-awesome.min.css'\r\nimport underscore from 'underscore';\r\n//import ChartistGraph from \"react-chartist\";\r\n// @material-ui/core\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Icon from \"@material-ui/core/Icon\";\r\n// @material-ui/icons\r\n//import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Store from \"@material-ui/icons/Store\";\r\nimport Warning from \"@material-ui/icons/Warning\";\r\nimport DateRange from \"@material-ui/icons/DateRange\";\r\nimport LocalOffer from \"@material-ui/icons/LocalOffer\";\r\nimport Update from \"@material-ui/icons/Update\";\r\nimport ArrowUpward from \"@material-ui/icons/ArrowUpward\";\r\nimport AccessTime from \"@material-ui/icons/AccessTime\";\r\nimport Accessibility from \"@material-ui/icons/Accessibility\";\r\nimport BugReport from \"@material-ui/icons/BugReport\";\r\nimport Code from \"@material-ui/icons/Code\";\r\nimport Cloud from \"@material-ui/icons/Cloud\";\r\nimport Button from '@material-ui/core/Button';\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { changeStudentStatus, saveEvaluationData, fetchKnackScore, fetchEvaluationData}from './../util/api';\r\n  import { FormControl , InputLabel, Input, Grid , TextField}  from '@material-ui/core';\r\n  //import { FormControl , FormControlLabel , InputLabel, Input, Grid,  , RadioGroup, Radio}  from '@material-ui/core';\r\nimport styles from \"../components/components.js\"; \r\nimport { CommunicationCallMerge } from 'material-ui/svg-icons';\r\nimport { SingleSelect } from \"react-select-material-ui\";\r\nimport callMerge from 'material-ui/svg-icons/communication/call-merge';\r\nimport UserContext from '../components/GolbalContext'\r\n//import MasterData from './../components/MasterData.js'\r\nimport { fectUserDetails } from './../util/api';\r\nimport { serviceEndPoint } from './../util/serviceEndPoint';\r\n\r\nimport {checkButton, checkButtonForArray , validateAssessorName} from './../util/validation';\r\nimport DetailsPage from './DetailsPage.js'; \r\nclass AssessorEvaluation extends Component\r\n{\r\n    constructor(props) {\r\n       super(props);\r\n       \r\n    //     this.myData = { \r\n    //     behaviourExecScore : [\r\n    //         { value: \"20\", label: 'Candidate was not able to narrate relevant example/s to showcase expected traits' },\r\n    //         { value: \"60\", label: 'Candidate was able to narrate example/s which showcased some of the expected traits' },\r\n    //         { value: \"100\", label: 'Candidate was able to narrate relevant example/s which consistently showcased the trait expected' }\r\n    //     ],\r\n    //     groupExecScore : [\r\n    //         { value: \"0\", label: 'No Traits observed' },\r\n    //         { value: \"20\", label: 'Only 1 Traits Observed' },\r\n    //         { value: \"40\", label: '2 Traits Observed' },\r\n    //         { value: \"60\", label: '3 Traits Observed' },\r\n    //         { value: \"80\", label: 'All 4 Traits Observed' },\r\n    //         { value: \"100\", label: 'All 4 Traits Observed Consistently' }\r\n    //     ],\r\n    //  }\r\n        this.state = {name : props.name,ies : \"\" , readonly : false , disabled : false , flag : \"0\" , errors : [] , rows : [{'engagementId' : props.engagementId , individualExecScore : \"\", groupExecObservation : \"\" , behaviourInterviewObservation : \"\", assessedBy : UserContext.userid}] ,  knackData : {} , engagementId : props.engagementId,dbUserId : props.dbUserId\r\n        , evaluationData : [] , evaluationSingleData : {'assessedBy' : UserContext.userid , 'engagementId' : props.engagementId , individualExecScore : \"\", groupExecObservation : \"\" , behaviourInterviewObservation : \"\"}};\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleSelectChange = this.handleSelectChange.bind(this);\r\n          this.getEvaluationData(this.state.engagementId);\r\n          this.getKnackScore(this.state.engagementId);\r\n    }\r\n\r\n    handleSelectChange(selectname, event, idx) {\r\n      const errors = [...this.state.errors];\r\n      const rows = [...this.state.rows];\r\n      this.setState({\r\n        \"disabled\" : false\r\n      });\r\n      errors[event] = {};\r\n      errors[event] [selectname] = {\"label\" : \"\" , \"value\" : false};\r\n      rows[event] [selectname] = idx;\r\n      this.setState({\r\n        rows,errors\r\n      });\r\n     // alert(JSON.stringify(this.state));\r\n      \r\n    }\r\n    validateAll()\r\n    {\r\n      var errors = this.state.errors;\r\n      this.state.rows.map((item,idx) => {\r\n        Object.keys(item).forEach(function(key) {\r\n          if(item[key] != 0 && (item[key] == undefined || item[key] == '' ))\r\n          {\r\n            let res = \"Cannot be empty\";\r\n              errors[idx][key] = {\r\n                  'label' : res , \r\n                  'value' : res == \"\" ? false : true \r\n                }\r\n         }\r\n      });\r\n      })\r\n      this.state.errors = errors;\r\n    }\r\n    handleChange = idx => e => {\r\n      const rows = [...this.state.rows];\r\n      const errors = [...this.state.errors];\r\n      const { name, value } = e.target;\r\n      errors[idx] = {};\r\n      errors[idx] [name] = {\"label\" : \"\" , \"value\" : false};\r\n      this.setState({\r\n        \"disabled\" : false\r\n      });\r\n      if(name == \"assessorName\")\r\n      {\r\n        let res = validateAssessorName(value, rows);\r\n        errors[idx] [name] = {\"label\" : res , \"value\" : res == \"\" ? false:true};\r\n      }\r\n      if(name == \"individualExecScore\")\r\n      {\r\n        this.setState({ies : value});\r\n      }\r\n      rows[idx] [name]= value;\r\n        this.setState({\r\n          rows,errors\r\n        });\r\n  \r\n     // alert(JSON.stringify(this.state));\r\n    };\r\n    handleAddRow = (props) => {\r\n      const item = {\r\n        engagementId : this.state.engagementId,\r\n        assessedBy : UserContext.userid,\r\n        groupExecObservation: \"\",\r\n        behaviourInterviewObservation: \"\",\r\n        individualExecScore: \"\",\r\n      };\r\n      this.setState({\r\n        rows: [...this.state.rows, item],\r\n        errors : [...this.state.errors, {}],\r\n      });\r\n    };\r\n    handleRemoveRow = () => {\r\n      this.setState({\r\n        rows: this.state.rows.slice(0, -1),\r\n        errors : this.state.errors.slice(0, -1),\r\n      });\r\n    };\r\n    handleRemoveSpecificRow = (idx) => () => {\r\n      const rows = [...this.state.rows]\r\n      const errors = [...this.state.errors]\r\n      rows.splice(idx, 1)\r\n      errors.splice(idx, 1)\r\n      this.setState({ rows , errors })\r\n    }\r\n    mySubmitHandler = (event) => {\r\n      event.preventDefault();\r\n      this.state.rows.map((item,idx) => {\r\n        this.state.rows[idx].individualExecScore = this.state.ies ; \r\n      })\r\n      this.validateAll();\r\n    \r\n      // authentication response and redirect to error or dashbaord page\r\n      this.setState({\r\n        errors : this.state.errors\r\n      });\r\n      if(checkButtonForArray(this.state.errors))\r\n        {\r\n          this.state.disabled = false;\r\n          this.submitEvaluationData();\r\n        }\r\n        else\r\n        {\r\n          this.state.disabled = true;\r\n      }\r\n     \r\n  }\r\n\r\n      \r\n      getEvaluationData(eng)\r\n      {\r\n        fetchEvaluationData(eng).then((jsondata)=>{\r\n            console.log(jsondata);\r\n            let finalDetails = JSON.parse(jsondata.data);\r\n            let rows = [];\r\n           finalDetails.map((item,idx)=>{\r\n            rows[idx] = {};\r\n            Object.keys(item).forEach(function(key) {\r\n              rows[idx][key] = item[key].toString();\r\n                })\r\n           });\r\n            if(finalDetails.length != 0)\r\n            {\r\n              this.setState({readonly : true,\r\n                rows: rows,\r\n                ies : finalDetails[0].individualExecScore,\r\n                errors : [{}]\r\n              });\r\n            }\r\n            \r\n      //       for(let i=0 ; i<finalDetails.length;i++){\r\n      //          var  details =\r\n      //        {   \r\n      //            'engagement_id':finalDetails[i].engagementId,\r\n      //            'assessor_name' : finalDetails[i].assessor_name,\r\n      //            'created_on':finalDetails[i].assessedDate, \r\n                  \r\n      //        }; \r\n      //        eData.push(details);\r\n      //        this.setState({\r\n      //         evaluationData: eData\r\n      //           });  \r\n         \r\n      // }    \r\n              \r\n      });   \r\n      }\r\n   getKnackScore(eng)\r\n      {\r\n       fetchKnackScore(eng).then((jsondata)=>{\r\n              console.log(jsondata); \r\n              if(jsondata.data != []){      \r\n                  let jsonobjects = JSON.parse(jsondata.data);\r\n                  if(jsonobjects[0][0] != undefined)\r\n                  {\r\n                    this.setState({knackData :jsonobjects[0][0]});\r\n                  } \r\n                 // alert(JSON.stringify(this.state.knackData)) ;\r\n              }  else{\r\n                  console.log(\"error\");\r\n              } \r\n           })\r\n      }\r\n\r\n   \r\nsubmitEvaluationData()\r\n{\r\n  document.getElementById(\"save\").setAttribute(\"disabled\", true);\r\n \r\n      saveEvaluationData(this.state.rows).then((jsondata)=>{\r\n              console.log(jsondata); \r\n              if(jsondata.appError==null){      \r\n                  let jsonobjects = JSON.parse(jsondata.data);\r\n                  alert(\"Data Saved Successfully\");\r\n                   this.props.history.push({\r\n                  pathname: '/dashboard/managebeneficiary'\r\n                });\r\n              }  else{\r\n                  console.log(\"error\");\r\n              } \r\n           })\r\n\r\n}\r\n\r\nrender()\r\n{\r\n    \r\n  const columns = [{label: 'Engagement Id', name: 'engagement_id',headerStyle: {color:'#FF9800'}},\r\n                 {label: 'Assessed By', name: 'assessor_name',headerStyle: {color:'#FF9800'}},\r\n                 {label: 'Assessed On', name: 'created_on',headerStyle: {color:'#FF9800'}}\r\n \r\n   \r\n ]\r\n const options = {\r\n  filterType: \"dropdown\",\r\n  responsive: \"scroll\",\r\n  selectableRows: false\r\n};\r\n  const dbUserId = (this.state.dbUserId == '' || this.state.dbUserId == null);\r\n  let button;\r\n  let displayText;\r\n  let knackText;\r\n    button =   <Button type = \"submit\" id = \"save\" variant=\"contained\" type=\"submit\" color=\"primary\" disabled = {this.state.disabled}>\r\n      Save\r\n  </Button>;\r\n  knackText = <TextField label = \"Knack Score\"   type=\"number\" name=\"knack\" id=\"knack\" readonly \r\n  value={ this.state.knackData.finalScore || ''} />\r\n  \r\n    displayText =  <TextField label = \"Individual Score\"   type=\"number\" name=\"individualExecScore\"\r\n     onChange={this.handleChange(0)} value = {this.state.ies} InputProps={{ inputProps: { max: 100 } }}\r\n    id=\"individualExecScore\" \r\n    />\r\n  \r\n    return (\r\n  <div style = {{ width : '100%' }}>\r\n    <form onSubmit={this.mySubmitHandler} method=\"post\">\r\n   <Grid container spacing={2}>\r\n    \r\n        <Grid item xs={12} sm={4}>\r\n          <FormControl>\r\n            {knackText}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}>\r\n          <FormControl>\r\n            {displayText}\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid item xs={12} sm={4}></Grid>\r\n        </Grid>\r\n        <br/>\r\n        <br/>\r\n        <div  style = {{width : \"75%\"}} >\r\n        <div className=\"row clearfix\">\r\n        <div className=\"col-md-12 column\">\r\n        <table\r\n          className=\"table table-bordered table-hover\"\r\n          id=\"tab_logic\"\r\n        >\r\n          <thead>\r\n            <tr>\r\n              <th className=\"text-center\"> Group Exercise Score </th>\r\n              <th className=\"text-center\"> Behaviour Interview Score </th>\r\n              <th className=\"text-center\"> Assessor Name </th>\r\n          <th />\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.state.rows.map((item, idx) => (\r\n            <tr id=\"addr0\" key={idx}>\r\n              \r\n            <td>\r\n\t\t\t\t\t\t\t<TextField  type=\"number\"  onChange={this.handleChange(idx)} name=\"groupExecObservation\" \r\n\t\t\t\t\t\t\tid=\"groupExecObservation\" InputProps={{ inputProps: {  max: 16 } }}\r\n\t\t\t\t\t\t\thelperText = {this.state.errors[idx] != undefined && this.state.errors[idx].groupExecObservation != undefined ? this.state.errors[idx].groupExecObservation.label : '' } \r\n             error = {this.state.errors[idx] != undefined && this.state.errors[idx].groupExecObservation != undefined ? this.state.errors[idx].groupExecObservation.value : '' }\t\r\n              value={this.state.rows[idx].groupExecObservation}\r\n\t\t\t\t\t\t\t/>\r\n               </td>\r\n             <td>\r\n              <TextField  type=\"number\"  onChange={this.handleChange(idx)} name=\"behaviourInterviewObservation\" \r\n\t\t\t\t\t\t\tid=\"behaviourInterviewObservation\" InputProps={{ inputProps: {  max: 20 } }}\r\n              helperText = {this.state.errors[idx] != undefined && this.state.errors[idx].behaviourInterviewObservation != undefined ? this.state.errors[idx].behaviourInterviewObservation.label : '' } \r\n              error = {this.state.errors[idx] != undefined && this.state.errors[idx].behaviourInterviewObservation != undefined ? this.state.errors[idx].behaviourInterviewObservation.value : '' }\r\n              value={this.state.rows[idx].behaviourInterviewObservation}\r\n\t\t\t\t\t\t\t/>\r\n              </td>\r\n              <td>\r\n              <TextField  type=\"text\" name=\"assessorName\"\r\n\t\t\t\t\t\thelperText = {this.state.errors[idx] != undefined && this.state.errors[idx].assessorName != undefined ? this.state.errors[idx].assessorName.label : '' } \r\n            error = {this.state.errors[idx] != undefined && this.state.errors[idx].assessorName != undefined ? this.state.errors[idx].assessorName.value : '' }\r\n               id=\"assessorName\"  \r\n               onChange={this.handleChange(idx)}\r\n               value={this.state.rows[idx].assessorName}\r\n\t\t\t\t\t\t\t />\r\n              </td>\r\n               <td>\r\n                            <button\r\n                              className=\"btn btn-outline-danger btn-sm\"\r\n                              onClick={this.handleRemoveSpecificRow(idx)}\r\n                            >\r\n                              Remove\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                  </div>\r\n                </div>\r\n                  <Input type = \"button\" onClick={this.handleAddRow} className=\"btn btn-primary\" value = \"Add Row\" />\r\n                  <Input type = \"button\" onClick={this.handleRemoveRow} className=\"btn btn-danger float-right\" value = \"Delete Row\" />\r\n                  </div>\r\n      <br/>\r\n      <br/>\r\n      {button}\r\n    \r\n    </form>\r\n    <br/>\r\n    <br/>\r\n    </div>\r\n    );\r\n}\r\n\r\n}\r\nexport default AssessorEvaluation;"]},"metadata":{},"sourceType":"module"}