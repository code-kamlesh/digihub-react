{"ast":null,"code":"import UserContext from '../components/GolbalContext';\nimport { regenerateToken } from './validation';\nexport function isSessionValid() {\n  var currentDateTime = new Date();\n\n  if (UserContext.sessionTime.getTime() >= currentDateTime.getTime()) {\n    regenerateToken();\n    var sessionTimeOut = new Date();\n    sessionTimeOut.setMinutes(sessionTimeOut.getMinutes() + 15);\n    UserContext.sessionTime = sessionTimeOut;\n    return true;\n  }\n\n  if (UserContext.sessionTime.getTime() <= currentDateTime.getTime()) {\n    UserContext.sessionTime = \"\";\n    UserContext.userid = \"\";\n    UserContext.firstName = \"\";\n    UserContext.lastName = \"\";\n    UserContext.roleid = \"\";\n    UserContext.roleName = \"\";\n    UserContext.centerId = \"\";\n    UserContext.centerName = \"\";\n    UserContext.dbUserId = \"\";\n    UserContext.token = \"\";\n    UserContext.userName = \"\";\n    UserContext.defaultRoleId = \"\";\n    UserContext.refreshToken = \"\";\n    window.location.pathname = \"/\";\n    return false;\n  }\n}\nexport function isTokenValid() {\n  var currentDateTime = new Date();\n\n  if (UserContext.jwtTimeOut.getTime() < currentDateTime.getTime()) {\n    return false;\n  } else {\n    return true;\n  }\n}\nexport function clearAppData() {\n  UserContext.sessionTime = \"\";\n  UserContext.userid = \"\";\n  UserContext.firstName = \"\";\n  UserContext.lastName = \"\";\n  UserContext.roleid = \"\";\n  UserContext.roleName = \"\";\n  UserContext.centerId = \"\";\n  UserContext.centerName = \"\";\n  UserContext.dbUserId = \"\";\n  UserContext.token = \"\";\n  UserContext.userName = \"\";\n  UserContext.defaultRoleId = \"\";\n  UserContext.refreshToken = \"\";\n  window.location.pathname = \"/\";\n}","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/util/session.js"],"names":["UserContext","regenerateToken","isSessionValid","currentDateTime","Date","sessionTime","getTime","sessionTimeOut","setMinutes","getMinutes","userid","firstName","lastName","roleid","roleName","centerId","centerName","dbUserId","token","userName","defaultRoleId","refreshToken","window","location","pathname","isTokenValid","jwtTimeOut","clearAppData"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,6BAAxB;AACA,SAASC,eAAT,QAAgC,cAAhC;AACA,OAAO,SAASC,cAAT,GACP;AACI,MAAIC,eAAe,GAAC,IAAIC,IAAJ,EAApB;;AACA,MAAGJ,WAAW,CAACK,WAAZ,CAAwBC,OAAxB,MAAqCH,eAAe,CAACG,OAAhB,EAAxC,EAAkE;AAC9DL,IAAAA,eAAe;AACf,QAAIM,cAAc,GAAC,IAAIH,IAAJ,EAAnB;AACAG,IAAAA,cAAc,CAACC,UAAf,CAA2BD,cAAc,CAACE,UAAf,KAA8B,EAAzD;AACAT,IAAAA,WAAW,CAACK,WAAZ,GAAwBE,cAAxB;AACA,WAAO,IAAP;AACD;;AAED,MAAGP,WAAW,CAACK,WAAZ,CAAwBC,OAAxB,MAAqCH,eAAe,CAACG,OAAhB,EAAxC,EAAkE;AACjEN,IAAAA,WAAW,CAACK,WAAZ,GAAwB,EAAxB;AAA2BL,IAAAA,WAAW,CAACU,MAAZ,GAAmB,EAAnB;AAC3BV,IAAAA,WAAW,CAACW,SAAZ,GAAsB,EAAtB;AAAyBX,IAAAA,WAAW,CAACY,QAAZ,GAAqB,EAArB;AACzBZ,IAAAA,WAAW,CAACa,MAAZ,GAAmB,EAAnB;AAAsBb,IAAAA,WAAW,CAACc,QAAZ,GAAqB,EAArB;AACtBd,IAAAA,WAAW,CAACe,QAAZ,GAAqB,EAArB;AAAwBf,IAAAA,WAAW,CAACgB,UAAZ,GAAuB,EAAvB;AACxBhB,IAAAA,WAAW,CAACiB,QAAZ,GAAqB,EAArB;AAAwBjB,IAAAA,WAAW,CAACkB,KAAZ,GAAkB,EAAlB;AACxBlB,IAAAA,WAAW,CAACmB,QAAZ,GAAqB,EAArB;AAAwBnB,IAAAA,WAAW,CAACoB,aAAZ,GAA0B,EAA1B;AAA6BpB,IAAAA,WAAW,CAACqB,YAAZ,GAAyB,EAAzB;AACrDC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAAyB,GAAzB;AACA,WAAO,KAAP;AACA;AACN;AACD,OAAO,SAASC,YAAT,GACP;AACE,MAAItB,eAAe,GAAC,IAAIC,IAAJ,EAApB;;AACA,MAAGJ,WAAW,CAAC0B,UAAZ,CAAuBpB,OAAvB,KAAmCH,eAAe,CAACG,OAAhB,EAAtC,EAAgE;AAC9D,WAAO,KAAP;AACD,GAFD,MAIA;AACE,WAAO,IAAP;AACD;AACF;AAED,OAAO,SAASqB,YAAT,GACP;AACO3B,EAAAA,WAAW,CAACK,WAAZ,GAAwB,EAAxB;AAA2BL,EAAAA,WAAW,CAACU,MAAZ,GAAmB,EAAnB;AAC3BV,EAAAA,WAAW,CAACW,SAAZ,GAAsB,EAAtB;AAAyBX,EAAAA,WAAW,CAACY,QAAZ,GAAqB,EAArB;AACzBZ,EAAAA,WAAW,CAACa,MAAZ,GAAmB,EAAnB;AAAsBb,EAAAA,WAAW,CAACc,QAAZ,GAAqB,EAArB;AACtBd,EAAAA,WAAW,CAACe,QAAZ,GAAqB,EAArB;AAAwBf,EAAAA,WAAW,CAACgB,UAAZ,GAAuB,EAAvB;AACxBhB,EAAAA,WAAW,CAACiB,QAAZ,GAAqB,EAArB;AAAwBjB,EAAAA,WAAW,CAACkB,KAAZ,GAAkB,EAAlB;AACxBlB,EAAAA,WAAW,CAACmB,QAAZ,GAAqB,EAArB;AAAwBnB,EAAAA,WAAW,CAACoB,aAAZ,GAA0B,EAA1B;AAA6BpB,EAAAA,WAAW,CAACqB,YAAZ,GAAyB,EAAzB;AACrDC,EAAAA,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAAyB,GAAzB;AACN","sourcesContent":["import UserContext from '../components/GolbalContext';\r\nimport { regenerateToken } from './validation';\r\nexport function isSessionValid() \r\n{\r\n    var currentDateTime=new Date();\r\n    if(UserContext.sessionTime.getTime() >= currentDateTime.getTime()){\r\n        regenerateToken();\r\n        var sessionTimeOut=new Date();\r\n        sessionTimeOut.setMinutes( sessionTimeOut.getMinutes() + 15);    \r\n        UserContext.sessionTime=sessionTimeOut;\r\n        return true;  \r\n      }\r\n    \r\n      if(UserContext.sessionTime.getTime() <= currentDateTime.getTime()){  \r\n       UserContext.sessionTime=\"\";UserContext.userid=\"\";\r\n       UserContext.firstName=\"\";UserContext.lastName=\"\";\r\n       UserContext.roleid=\"\";UserContext.roleName=\"\";\r\n       UserContext.centerId=\"\";UserContext.centerName=\"\";\r\n       UserContext.dbUserId=\"\";UserContext.token=\"\";\r\n       UserContext.userName=\"\";UserContext.defaultRoleId=\"\";UserContext.refreshToken=\"\"\r\n       window.location.pathname=\"/\";\r\n       return false; \r\n      }   \r\n}\r\nexport function isTokenValid()\r\n{\r\n  var currentDateTime=new Date();\r\n  if(UserContext.jwtTimeOut.getTime() < currentDateTime.getTime()){\r\n    return false;\r\n  }\r\n  else\r\n  {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport function clearAppData()\r\n{\r\n       UserContext.sessionTime=\"\";UserContext.userid=\"\";\r\n       UserContext.firstName=\"\";UserContext.lastName=\"\";\r\n       UserContext.roleid=\"\";UserContext.roleName=\"\";\r\n       UserContext.centerId=\"\";UserContext.centerName=\"\";\r\n       UserContext.dbUserId=\"\";UserContext.token=\"\";\r\n       UserContext.userName=\"\";UserContext.defaultRoleId=\"\";UserContext.refreshToken=\"\"\r\n       window.location.pathname=\"/\";\r\n}"]},"metadata":{},"sourceType":"module"}