{"ast":null,"code":"var _jsxFileName = \"D:\\\\Tata_Strive\\\\WebApplication\\\\digiHub\\\\trunk\\\\digiHubWeb\\\\src\\\\views\\\\Users.js\";\nimport React, { useEffect, useState } from 'react';\nimport MUIDataTable from \"mui-datatables\";\nimport UserContext from '../components/GolbalContext';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport { passwordReset, fetchUsersByCenterId, fetchUserDetailsById } from './../util/api';\nimport { BrowserRouter as Router, Link } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport { Button, Grid } from '@material-ui/core';\nexport default function UserManagement() {\n  const [state, setState] = React.useState();\n  const [rows, setUserDetails] = useState([]);\n  let userInfo = [];\n\n  function fetchUserDetailsByCenterId() {\n    fetchUsersByCenterId(UserContext.centerId).then(jsondata => {\n      let dbUserId = [];\n      let userCenterRoleMap = JSON.parse(jsondata.data);\n      userCenterRoleMap.map(item => {\n        dbUserId.push({\n          id: item.userId\n        });\n      });\n      fetchUserDetailsById(JSON.stringify(dbUserId)).then(jsondata => {\n        let userDetails = JSON.parse(jsondata.data);\n\n        for (var i = 0; i < userDetails.length; i++) {\n          var details = {\n            'userName': userDetails[i].userName,\n            'name': userDetails[i].firstName + \" \" + userDetails[i].lastName,\n            'dob': userDetails[i].dob,\n            'action': /*#__PURE__*/React.createElement(Link, {\n              to: {\n                pathname: '/dashboard/createusers',\n                state: {\n                  dbUserId: userDetails[i].id\n                }\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 32,\n                columnNumber: 23\n              }\n            }, /*#__PURE__*/React.createElement(EditIcon, {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 16\n              }\n            })),\n            'passwordreset': /*#__PURE__*/React.createElement(LockOpenIcon, {\n              color: \"primary\",\n              onClick: doPasswordReset.bind(null, userDetails[i].id),\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 30\n              }\n            })\n          };\n          userInfo.push(details);\n        }\n\n        setUserDetails(userInfo);\n      });\n    });\n  }\n\n  function doPasswordReset(dbUserId) {\n    passwordReset(dbUserId).then(jsondata => {\n      alert(\"Password Updated Sucessfully\");\n    });\n  }\n\n  useEffect(() => {\n    fetchUserDetailsByCenterId();\n  }, []);\n  const columns = [{\n    label: 'User Name',\n    name: 'userName'\n  }, {\n    label: 'First Name',\n    name: 'name'\n  }, {\n    label: 'Date Of Birth',\n    name: 'dob'\n  }, {\n    label: 'Action',\n    name: 'action',\n    headerStyle: {\n      color: '#FF9800'\n    }\n  }, {\n    label: 'Password Reset',\n    name: 'passwordreset',\n    headerStyle: {\n      color: '#FF9800'\n    }\n  }];\n  const options = {\n    filterType: \"dropdown\",\n    responsive: \"scroll\",\n    sortDirection: \"desc\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    direction: \"row\",\n    justify: \"flex-end\",\n    alignItems: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"small\",\n    component: Link,\n    to: {\n      pathname: \"/dashboard/createusers\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 1\n    }\n  }, \"Add User\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 1\n    }\n  }), /*#__PURE__*/React.createElement(MUIDataTable, {\n    label: \"List of Students\",\n    data: rows,\n    columns: columns,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["D:/Tata_Strive/WebApplication/digiHub/trunk/digiHubWeb/src/views/Users.js"],"names":["React","useEffect","useState","MUIDataTable","UserContext","LockOpenIcon","passwordReset","fetchUsersByCenterId","fetchUserDetailsById","BrowserRouter","Router","Link","EditIcon","Button","Grid","UserManagement","state","setState","rows","setUserDetails","userInfo","fetchUserDetailsByCenterId","centerId","then","jsondata","dbUserId","userCenterRoleMap","JSON","parse","data","map","item","push","id","userId","stringify","userDetails","i","length","details","userName","firstName","lastName","dob","pathname","doPasswordReset","bind","alert","columns","label","name","headerStyle","color","options","filterType","responsive","sortDirection"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAASC,aAAT,EAAwBC,oBAAxB,EAA8CC,oBAA9C,QAA0E,eAA1E;AACA,SACEC,aAAa,IAAIC,MADnB,EAEEC,IAFF,QAIO,kBAJP;AAKA,OAAOC,QAAP,MAAqB,yBAArB;AACA,SAAQC,MAAR,EAAeC,IAAf,QAA0B,mBAA1B;AAGA,eAAe,SAASC,cAAT,GAA0B;AACvC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBjB,KAAK,CAACE,QAAN,EAA1B;AACA,QAAM,CAACgB,IAAD,EAAOC,cAAP,IAAyBjB,QAAQ,CAAC,EAAD,CAAvC;AACA,MAAIkB,QAAQ,GAAG,EAAf;;AACA,WAASC,0BAAT,GAAsC;AACpCd,IAAAA,oBAAoB,CAACH,WAAW,CAACkB,QAAb,CAApB,CAA2CC,IAA3C,CAAiDC,QAAD,IAAc;AAC5D,UAAIC,QAAQ,GAAG,EAAf;AACA,UAAIC,iBAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACK,IAApB,CAAxB;AACAH,MAAAA,iBAAiB,CAACI,GAAlB,CAAsBC,IAAI,IAAI;AAAEN,QAAAA,QAAQ,CAACO,IAAT,CAAc;AAAEC,UAAAA,EAAE,EAAEF,IAAI,CAACG;AAAX,SAAd;AAAoC,OAApE;AACA1B,MAAAA,oBAAoB,CAACmB,IAAI,CAACQ,SAAL,CAAeV,QAAf,CAAD,CAApB,CAA+CF,IAA/C,CAAqDC,QAAD,IAAc;AAChE,YAAIY,WAAW,GAAGT,IAAI,CAACC,KAAL,CAAWJ,QAAQ,CAACK,IAApB,CAAlB;;AACA,aAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,WAAW,CAACE,MAAhC,EAAwCD,CAAC,EAAzC,EAA6C;AAC3C,cAAIE,OAAO,GACX;AACE,wBAAYH,WAAW,CAACC,CAAD,CAAX,CAAeG,QAD7B;AAEE,oBAAQJ,WAAW,CAACC,CAAD,CAAX,CAAeI,SAAf,GAA2B,GAA3B,GAAiCL,WAAW,CAACC,CAAD,CAAX,CAAeK,QAF1D;AAGE,mBAAON,WAAW,CAACC,CAAD,CAAX,CAAeM,GAHxB;AAIE,mCAAU,oBAAC,IAAD;AAAM,cAAA,EAAE,EAAE;AAClBC,gBAAAA,QAAQ,EAAE,wBADQ;AAElB5B,gBAAAA,KAAK,EAAE;AAAES,kBAAAA,QAAQ,EAAEW,WAAW,CAACC,CAAD,CAAX,CAAeJ;AAA3B;AAFW,eAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAGP,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHO,CAJZ;AAQE,0CAAiB,oBAAC,YAAD;AAAc,cAAA,KAAK,EAAC,SAApB;AAA8B,cAAA,OAAO,EAAEY,eAAe,CAACC,IAAhB,CAAqB,IAArB,EAA2BV,WAAW,CAACC,CAAD,CAAX,CAAeJ,EAA1C,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AARnB,WADA;AAWAb,UAAAA,QAAQ,CAACY,IAAT,CAAcO,OAAd;AACD;;AACDpB,QAAAA,cAAc,CAACC,QAAD,CAAd;AACD,OAjBD;AAkBD,KAtBD;AAuBD;;AAED,WAASyB,eAAT,CAAyBpB,QAAzB,EAAmC;AACjCnB,IAAAA,aAAa,CAACmB,QAAD,CAAb,CAAwBF,IAAxB,CAA8BC,QAAD,IAAc;AACzCuB,MAAAA,KAAK,CAAC,8BAAD,CAAL;AACD,KAFD;AAID;;AACD9C,EAAAA,SAAS,CAAC,MAAM;AACdoB,IAAAA,0BAA0B;AAC3B,GAFQ,EAEN,EAFM,CAAT;AAIA,QAAM2B,OAAO,GAAG,CAAC;AAAEC,IAAAA,KAAK,EAAE,WAAT;AAAsBC,IAAAA,IAAI,EAAE;AAA5B,GAAD,EAChB;AAAED,IAAAA,KAAK,EAAE,YAAT;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADgB,EAEhB;AAAED,IAAAA,KAAK,EAAE,eAAT;AAA0BC,IAAAA,IAAI,EAAE;AAAhC,GAFgB,EAGhB;AAAED,IAAAA,KAAK,EAAE,QAAT;AAAmBC,IAAAA,IAAI,EAAE,QAAzB;AAAmCC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAAhD,GAHgB,EAIhB;AAAEH,IAAAA,KAAK,EAAE,gBAAT;AAA2BC,IAAAA,IAAI,EAAE,eAAjC;AAAkDC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,KAAK,EAAE;AAAT;AAA/D,GAJgB,CAAhB;AAMA,QAAMC,OAAO,GAAG;AACdC,IAAAA,UAAU,EAAE,UADE;AAEdC,IAAAA,UAAU,EAAE,QAFE;AAGdC,IAAAA,aAAa,EAAE;AAHD,GAAhB;AAKA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEJ,oBAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,SAAS,EAAC,KAA1B;AAAgC,IAAA,OAAO,EAAC,UAAxC;AAAmD,IAAA,UAAU,EAAC,UAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,KAAK,EAAC,SAAlC;AACQ,IAAA,IAAI,EAAC,OADb;AACqB,IAAA,SAAS,EAAE7C,IADhC;AAEQ,IAAA,EAAE,EAAE;AAACiC,MAAAA,QAAQ,EAAC;AAAV,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,CAFI,eAOJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPI,eAQE,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE,kBAArB;AAAyC,IAAA,IAAI,EAAE1B,IAA/C;AAAqD,IAAA,OAAO,EAAE8B,OAA9D;AAAuE,IAAA,OAAO,EAAEK,OAAhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,CADF;AAcD","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport UserContext from '../components/GolbalContext'\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport { passwordReset, fetchUsersByCenterId, fetchUserDetailsById } from './../util/api';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Link,\r\n\r\n} from 'react-router-dom';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {Button,Grid} from '@material-ui/core';\r\n\r\n\r\nexport default function UserManagement() {\r\n  const [state, setState] = React.useState();\r\n  const [rows, setUserDetails] = useState([]);\r\n  let userInfo = [];\r\n  function fetchUserDetailsByCenterId() {\r\n    fetchUsersByCenterId(UserContext.centerId).then((jsondata) => {\r\n      let dbUserId = [];\r\n      let userCenterRoleMap = JSON.parse(jsondata.data);\r\n      userCenterRoleMap.map(item => { dbUserId.push({ id: item.userId }) });\r\n      fetchUserDetailsById(JSON.stringify(dbUserId)).then((jsondata) => {\r\n        let userDetails = JSON.parse(jsondata.data);\r\n        for (var i = 0; i < userDetails.length; i++) {\r\n          var details =\r\n          {\r\n            'userName': userDetails[i].userName,\r\n            'name': userDetails[i].firstName + \" \" + userDetails[i].lastName,\r\n            'dob': userDetails[i].dob,\r\n            'action': <Link to={{\r\n              pathname: '/dashboard/createusers',\r\n              state: { dbUserId: userDetails[i].id }\r\n            }}><EditIcon /></Link>,\r\n            'passwordreset': <LockOpenIcon color=\"primary\" onClick={doPasswordReset.bind(null, userDetails[i].id)}></LockOpenIcon>\r\n          };\r\n          userInfo.push(details);\r\n        }\r\n        setUserDetails(userInfo);\r\n      });\r\n    });\r\n  }\r\n\r\n  function doPasswordReset(dbUserId) {\r\n    passwordReset(dbUserId).then((jsondata) => {\r\n      alert(\"Password Updated Sucessfully\");\r\n    });\r\n\r\n  }\r\n  useEffect(() => {\r\n    fetchUserDetailsByCenterId();\r\n  }, []);\r\n\r\n  const columns = [{ label: 'User Name', name: 'userName' },\r\n  { label: 'First Name', name: 'name' },\r\n  { label: 'Date Of Birth', name: 'dob' },\r\n  { label: 'Action', name: 'action', headerStyle: { color: '#FF9800' } },\r\n  { label: 'Password Reset', name: 'passwordreset', headerStyle: { color: '#FF9800' } }\r\n  ]\r\n  const options = {\r\n    filterType: \"dropdown\",\r\n    responsive: \"scroll\",\r\n    sortDirection: \"desc\"\r\n  };\r\n  return (\r\n    <div>\r\n\r\n<Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"flex-end\">\r\n<Button variant=\"contained\" color=\"primary\"\r\n        size=\"small\" component={Link} \r\n        to={{pathname:\"/dashboard/createusers\"}}>Add User</Button>\r\n</Grid>\r\n<br/>\r\n      <MUIDataTable label={\"List of Students\"} data={rows} columns={columns} options={options}\r\n      />\r\n    </div>\r\n\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}